"use strict";var Sc=Object.create;var ln=Object.defineProperty;var _c=Object.getOwnPropertyDescriptor;var wc=Object.getOwnPropertyNames;var Rc=Object.getPrototypeOf,vc=Object.prototype.hasOwnProperty;var ur=(t,r)=>()=>(t&&(r=t(t=0)),r);var O=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),ra=(t,r)=>{for(var o in r)ln(t,o,{get:r[o],enumerable:!0})},na=(t,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of wc(r))!vc.call(t,s)&&s!==o&&ln(t,s,{get:()=>r[s],enumerable:!(i=_c(r,s))||i.enumerable});return t};var Te=(t,r,o)=>(o=t!=null?Sc(Rc(t)):{},na(r||!t||!t.__esModule?ln(o,"default",{value:t,enumerable:!0}):o,t)),Tc=t=>na(ln({},"__esModule",{value:!0}),t);var ma=O((cn,da)=>{(function(t,r){typeof cn=="object"&&typeof da<"u"?r(cn):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.WebStreamsPolyfill={}))})(cn,function(t){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=i();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let c=o,m=Promise,h=Promise.prototype.then,d=Promise.resolve.bind(m),y=Promise.reject.bind(m);function R(e){return new m(e)}function g(e){return d(e)}function S(e){return y(e)}function _(e,n,a){return h.call(e,n,a)}function E(e,n,a){_(_(e,n,a),void 0,c)}function T(e,n){E(e,n)}function w(e,n){E(e,void 0,n)}function x(e,n,a){return _(e,n,a)}function M(e){_(e,void 0,c)}let P=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let n=g(void 0);return a=>_(n,a)})();function D(e,n,a){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,a)}function A(e,n,a){try{return g(D(e,n,a))}catch(l){return S(l)}}let G=16384;class Z{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let a=this._back,l=a;a._elements.length===G-1&&(l={_elements:[],_next:void 0}),a._elements.push(n),l!==a&&(this._back=l,a._next=l),++this._size}shift(){let n=this._front,a=n,l=this._cursor,f=l+1,p=n._elements,b=p[l];return f===G&&(a=n._next,f=0),--this._size,this._cursor=f,n!==a&&(this._front=a),p[l]=void 0,b}forEach(n){let a=this._cursor,l=this._front,f=l._elements;for(;(a!==f.length||l._next!==void 0)&&!(a===f.length&&(l=l._next,f=l._elements,a=0,f.length===0));)n(f[a]),++a}peek(){let n=this._front,a=this._cursor;return n._elements[a]}}function V(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?Ht(e):n._state==="closed"?Ar(e):ye(e,n._storedError)}function rt(e,n){let a=e._ownerReadableStream;return Re(a,n)}function oe(e){e._ownerReadableStream._state==="readable"?We(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ir(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function qe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ht(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a})}function ye(e,n){Ht(e),We(e,n)}function Ar(e){Ht(e),Or(e)}function We(e,n){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Ir(e,n){ye(e,n)}function Or(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let _t=r("[[AbortSteps]]"),wt=r("[[ErrorSteps]]"),Ce=r("[[CancelSteps]]"),nt=r("[[PullSteps]]"),ot=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Fe=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function zn(e){return typeof e=="object"||typeof e=="function"}function j(e,n){if(e!==void 0&&!zn(e))throw new TypeError(`${n} is not an object.`)}function U(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function ie(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ae(e,n){if(!ie(e))throw new TypeError(`${n} is not an object.`)}function re(e,n,a){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${a}'.`)}function Le(e,n,a){if(e===void 0)throw new TypeError(`${n} is required in '${a}'.`)}function se(e){return Number(e)}function Y(e){return e===0?0:e}function Pe(e){return Y(Fe(e))}function me(e,n){let l=Number.MAX_SAFE_INTEGER,f=Number(e);if(f=Y(f),!ot(f))throw new TypeError(`${n} is not a finite number`);if(f=Pe(f),f<0||f>l)throw new TypeError(`${n} is outside the accepted range of ${0} to ${l}, inclusive`);return!ot(f)||f===0?0:f}function it(e,n){if(!Ke(e))throw new TypeError(`${n} is not a ReadableStream.`)}function ge(e){return new Vt(e)}function Ge(e,n){e._reader._readRequests.push(n)}function at(e,n,a){let f=e._reader._readRequests.shift();a?f._closeSteps():f._chunkSteps(n)}function Ae(e){return e._reader._readRequests.length}function Gt(e){let n=e._reader;return!(n===void 0||!Ve(n))}class Vt{constructor(n){if(re(n,1,"ReadableStreamDefaultReader"),it(n,"First parameter"),Ze(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");V(this,n),this._readRequests=new Z}get closed(){return Ve(this)?this._closedPromise:S(kr("closed"))}cancel(n=void 0){return Ve(this)?this._ownerReadableStream===void 0?S(qe("cancel")):rt(this,n):S(kr("cancel"))}read(){if(!Ve(this))return S(kr("read"));if(this._ownerReadableStream===void 0)return S(qe("read from"));let n,a,l=R((p,b)=>{n=p,a=b});return Yt(this,{_chunkSteps:p=>n({value:p,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:p=>a(p)}),l}releaseLock(){if(!Ve(this))throw kr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(Vt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Vt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ve(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Vt}function Yt(e,n){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="closed"?n._closeSteps():a._state==="errored"?n._errorSteps(a._storedError):a._readableStreamController[nt](n)}function kr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Zo=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Jo{constructor(n,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=a}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?x(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let a=()=>this._returnSteps(n);return this._ongoingPromise?x(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return S(qe("iterate"));let a,l,f=R((b,v)=>{a=b,l=v});return Yt(n,{_chunkSteps:b=>{this._ongoingPromise=void 0,P(()=>a({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(n),a({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(n),l(b)}}),f}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return S(qe("finish iterating"));if(!this._preventCancel){let l=rt(a,n);return oe(a),x(l,()=>({value:n,done:!0}))}return oe(a),g({value:n,done:!0})}}let ei={next(){return ti(this)?this._asyncIteratorImpl.next():S(ri("next"))},return(e){return ti(this)?this._asyncIteratorImpl.return(e):S(ri("return"))}};Zo!==void 0&&Object.setPrototypeOf(ei,Zo);function el(e,n){let a=ge(e),l=new Jo(a,n),f=Object.create(ei);return f._asyncIteratorImpl=l,f}function ti(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Jo}catch{return!1}}function ri(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let ni=Number.isNaN||function(e){return e!==e};function Qt(e){return e.slice()}function oi(e,n,a,l,f){new Uint8Array(e).set(new Uint8Array(a,l,f),n)}function pm(e){return e}function xr(e){return!1}function ii(e,n,a){if(e.slice)return e.slice(n,a);let l=a-n,f=new ArrayBuffer(l);return oi(f,0,e,n,l),f}function tl(e){return!(typeof e!="number"||ni(e)||e<0)}function ai(e){let n=ii(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Mn(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function Un(e,n,a){if(!tl(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:a}),e._queueTotalSize+=a}function rl(e){return e._queue.peek().value}function Ye(e){e._queue=new Z,e._queueTotalSize=0}class Xt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Nn(this))throw Vn("view");return this._view}respond(n){if(!Nn(this))throw Vn("respond");if(re(n,1,"respond"),n=me(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");xr(this._view.buffer),Fr(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!Nn(this))throw Vn("respondWithNewView");if(re(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");xr(n.buffer),Lr(this._associatedReadableByteStreamController,n)}}Object.defineProperties(Xt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Xt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Rt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!st(this))throw Zt("byobRequest");return Gn(this)}get desiredSize(){if(!st(this))throw Zt("desiredSize");return hi(this)}close(){if(!st(this))throw Zt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);Kt(this)}enqueue(n){if(!st(this))throw Zt("enqueue");if(re(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);Wr(this,n)}error(n=void 0){if(!st(this))throw Zt("error");we(this,n)}[Ce](n){si(this),Ye(this);let a=this._cancelAlgorithm(n);return qr(this),a}[nt](n){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let f=this._queue.shift();this._queueTotalSize-=f.byteLength,fi(this);let p=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);n._chunkSteps(p);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let f;try{f=new ArrayBuffer(l)}catch(b){n._errorSteps(b);return}let p={buffer:f,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}Ge(a,n),ut(this)}}Object.defineProperties(Rt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function st(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Rt}function Nn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Xt}function ut(e){if(!al(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ut(e))},l=>{we(e,l)})}function si(e){Hn(e),e._pendingPullIntos=new Z}function jn(e,n){let a=!1;e._state==="closed"&&(a=!0);let l=ui(n);n.readerType==="default"?at(e,l,a):ll(e,l,a)}function ui(e){let n=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/a)}function Br(e,n,a,l){e._queue.push({buffer:n,byteOffset:a,byteLength:l}),e._queueTotalSize+=l}function li(e,n){let a=n.elementSize,l=n.bytesFilled-n.bytesFilled%a,f=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),p=n.bytesFilled+f,b=p-p%a,v=f,I=!1;b>l&&(v=b-n.bytesFilled,I=!0);let B=e._queue;for(;v>0;){let q=B.peek(),W=Math.min(v,q.byteLength),H=n.byteOffset+n.bytesFilled;oi(n.buffer,H,q.buffer,q.byteOffset,W),q.byteLength===W?B.shift():(q.byteOffset+=W,q.byteLength-=W),e._queueTotalSize-=W,ci(e,W,n),v-=W}return I}function ci(e,n,a){a.bytesFilled+=n}function fi(e){e._queueTotalSize===0&&e._closeRequested?(qr(e),ar(e._controlledReadableByteStream)):ut(e)}function Hn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function di(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();li(e,n)&&(Dr(e),jn(e._controlledReadableByteStream,n))}}function nl(e,n,a){let l=e._controlledReadableByteStream,f=1;n.constructor!==DataView&&(f=n.constructor.BYTES_PER_ELEMENT);let p=n.constructor,b=n.buffer,v={buffer:b,bufferByteLength:b.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:f,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(v),yi(l,a);return}if(l._state==="closed"){let I=new p(v.buffer,v.byteOffset,0);a._closeSteps(I);return}if(e._queueTotalSize>0){if(li(e,v)){let I=ui(v);fi(e),a._chunkSteps(I);return}if(e._closeRequested){let I=new TypeError("Insufficient bytes to fill elements in the given buffer");we(e,I),a._errorSteps(I);return}}e._pendingPullIntos.push(v),yi(l,a),ut(e)}function ol(e,n){let a=e._controlledReadableByteStream;if(Yn(a))for(;gi(a)>0;){let l=Dr(e);jn(a,l)}}function il(e,n,a){if(ci(e,n,a),a.bytesFilled<a.elementSize)return;Dr(e);let l=a.bytesFilled%a.elementSize;if(l>0){let f=a.byteOffset+a.bytesFilled,p=ii(a.buffer,f-l,f);Br(e,p,0,p.byteLength)}a.bytesFilled-=l,jn(e._controlledReadableByteStream,a),di(e)}function mi(e,n){let a=e._pendingPullIntos.peek();Hn(e),e._controlledReadableByteStream._state==="closed"?ol(e):il(e,n,a),ut(e)}function Dr(e){return e._pendingPullIntos.shift()}function al(e){let n=e._controlledReadableByteStream;return n._state!=="readable"||e._closeRequested||!e._started?!1:!!(Gt(n)&&Ae(n)>0||Yn(n)&&gi(n)>0||hi(e)>0)}function qr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Kt(e){let n=e._controlledReadableByteStream;if(!(e._closeRequested||n._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw we(e,l),l}qr(e),ar(n)}}function Wr(e,n){let a=e._controlledReadableByteStream;if(e._closeRequested||a._state!=="readable")return;let l=n.buffer,f=n.byteOffset,p=n.byteLength,b=l;if(e._pendingPullIntos.length>0){let v=e._pendingPullIntos.peek();xr(v.buffer),v.buffer=v.buffer}if(Hn(e),Gt(a))if(Ae(a)===0)Br(e,b,f,p);else{e._pendingPullIntos.length>0&&Dr(e);let v=new Uint8Array(b,f,p);at(a,v,!1)}else Yn(a)?(Br(e,b,f,p),di(e)):Br(e,b,f,p);ut(e)}function we(e,n){let a=e._controlledReadableByteStream;a._state==="readable"&&(si(e),Ye(e),qr(e),Ui(a,n))}function Gn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),l=Object.create(Xt.prototype);ul(l,e,a),e._byobRequest=l}return e._byobRequest}function hi(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Fr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,mi(e,n)}function Lr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let f=n.byteLength;a.buffer=n.buffer,mi(e,f)}function pi(e,n,a,l,f,p,b){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,Ye(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,n._autoAllocateChunkSize=b,n._pendingPullIntos=new Z,e._readableStreamController=n;let v=a();E(g(v),()=>{n._started=!0,ut(n)},I=>{we(n,I)})}function sl(e,n,a){let l=Object.create(Rt.prototype),f=()=>{},p=()=>g(void 0),b=()=>g(void 0);n.start!==void 0&&(f=()=>n.start(l)),n.pull!==void 0&&(p=()=>n.pull(l)),n.cancel!==void 0&&(b=I=>n.cancel(I));let v=n.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");pi(e,l,f,p,b,a,v)}function ul(e,n,a){e._associatedReadableByteStreamController=n,e._view=a}function Vn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Zt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function bi(e){return new Jt(e)}function yi(e,n){e._reader._readIntoRequests.push(n)}function ll(e,n,a){let f=e._reader._readIntoRequests.shift();a?f._closeSteps(n):f._chunkSteps(n)}function gi(e){return e._reader._readIntoRequests.length}function Yn(e){let n=e._reader;return!(n===void 0||!lt(n))}class Jt{constructor(n){if(re(n,1,"ReadableStreamBYOBReader"),it(n,"First parameter"),Ze(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!st(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");V(this,n),this._readIntoRequests=new Z}get closed(){return lt(this)?this._closedPromise:S($r("closed"))}cancel(n=void 0){return lt(this)?this._ownerReadableStream===void 0?S(qe("cancel")):rt(this,n):S($r("cancel"))}read(n){if(!lt(this))return S($r("read"));if(!ArrayBuffer.isView(n))return S(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return S(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return S(new TypeError("view's buffer must have non-zero byteLength"));if(xr(n.buffer),this._ownerReadableStream===void 0)return S(qe("read from"));let a,l,f=R((b,v)=>{a=b,l=v});return Si(this,n,{_chunkSteps:b=>a({value:b,done:!1}),_closeSteps:b=>a({value:b,done:!0}),_errorSteps:b=>l(b)}),f}releaseLock(){if(!lt(this))throw $r("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(Jt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Jt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function lt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Jt}function Si(e,n,a){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?a._errorSteps(l._storedError):nl(l._readableStreamController,n,a)}function $r(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function er(e,n){let{highWaterMark:a}=e;if(a===void 0)return n;if(ni(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function zr(e){let{size:n}=e;return n||(()=>1)}function Mr(e,n){j(e,n);let a=e?.highWaterMark,l=e?.size;return{highWaterMark:a===void 0?void 0:se(a),size:l===void 0?void 0:cl(l,`${n} has member 'size' that`)}}function cl(e,n){return U(e,n),a=>se(e(a))}function fl(e,n){j(e,n);let a=e?.abort,l=e?.close,f=e?.start,p=e?.type,b=e?.write;return{abort:a===void 0?void 0:dl(a,e,`${n} has member 'abort' that`),close:l===void 0?void 0:ml(l,e,`${n} has member 'close' that`),start:f===void 0?void 0:hl(f,e,`${n} has member 'start' that`),write:b===void 0?void 0:pl(b,e,`${n} has member 'write' that`),type:p}}function dl(e,n,a){return U(e,a),l=>A(e,n,[l])}function ml(e,n,a){return U(e,a),()=>A(e,n,[])}function hl(e,n,a){return U(e,a),l=>D(e,n,[l])}function pl(e,n,a){return U(e,a),(l,f)=>A(e,n,[l,f])}function _i(e,n){if(!vt(e))throw new TypeError(`${n} is not a WritableStream.`)}function bl(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let yl=typeof AbortController=="function";function gl(){if(yl)return new AbortController}class tr{constructor(n={},a={}){n===void 0?n=null:ae(n,"First parameter");let l=Mr(a,"Second parameter"),f=fl(n,"First parameter");if(Ri(this),f.type!==void 0)throw new RangeError("Invalid type is specified");let b=zr(l),v=er(l,1);xl(this,f,v,b)}get locked(){if(!vt(this))throw Gr("locked");return Tt(this)}abort(n=void 0){return vt(this)?Tt(this)?S(new TypeError("Cannot abort a stream that already has a writer")):Ur(this,n):S(Gr("abort"))}close(){return vt(this)?Tt(this)?S(new TypeError("Cannot close a stream that already has a writer")):Ie(this)?S(new TypeError("Cannot close an already-closing stream")):vi(this):S(Gr("close"))}getWriter(){if(!vt(this))throw Gr("getWriter");return wi(this)}}Object.defineProperties(tr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(tr.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function wi(e){return new rr(e)}function Sl(e,n,a,l,f=1,p=()=>1){let b=Object.create(tr.prototype);Ri(b);let v=Object.create(Et.prototype);return Ii(b,v,e,n,a,l,f,p),b}function Ri(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Z,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function vt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof tr}function Tt(e){return e._writer!==void 0}function Ur(e,n){var a;if(e._state==="closed"||e._state==="errored")return g(void 0);e._writableStreamController._abortReason=n,(a=e._writableStreamController._abortController)===null||a===void 0||a.abort();let l=e._state;if(l==="closed"||l==="errored")return g(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let f=!1;l==="erroring"&&(f=!0,n=void 0);let p=R((b,v)=>{e._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:v,_reason:n,_wasAlreadyErroring:f}});return e._pendingAbortRequest._promise=p,f||Xn(e,n),p}function vi(e){let n=e._state;if(n==="closed"||n==="errored")return S(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let a=R((f,p)=>{let b={_resolve:f,_reject:p};e._closeRequest=b}),l=e._writer;return l!==void 0&&e._backpressure&&n==="writable"&&io(l),Bl(e._writableStreamController),a}function _l(e){return R((a,l)=>{let f={_resolve:a,_reject:l};e._writeRequests.push(f)})}function Qn(e,n){if(e._state==="writable"){Xn(e,n);return}Kn(e)}function Xn(e,n){let a=e._writableStreamController;e._state="erroring",e._storedError=n;let l=e._writer;l!==void 0&&Ei(l,n),!El(e)&&a._started&&Kn(e)}function Kn(e){e._state="errored",e._writableStreamController[wt]();let n=e._storedError;if(e._writeRequests.forEach(f=>{f._reject(n)}),e._writeRequests=new Z,e._pendingAbortRequest===void 0){Nr(e);return}let a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(n),Nr(e);return}let l=e._writableStreamController[_t](a._reason);E(l,()=>{a._resolve(),Nr(e)},f=>{a._reject(f),Nr(e)})}function wl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Rl(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,Qn(e,n)}function vl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let a=e._writer;a!==void 0&&Bi(a)}function Tl(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),Qn(e,n)}function Ie(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function El(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Cl(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Pl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Nr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&no(n,e._storedError)}function Zn(e,n){let a=e._writer;a!==void 0&&n!==e._backpressure&&(n?zl(a):io(a)),e._backpressure=n}class rr{constructor(n){if(re(n,1,"WritableStreamDefaultWriter"),_i(n,"First parameter"),Tt(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let a=n._state;if(a==="writable")!Ie(n)&&n._backpressure?Yr(this):Di(this),Vr(this);else if(a==="erroring")oo(this,n._storedError),Vr(this);else if(a==="closed")Di(this),Ll(this);else{let l=n._storedError;oo(this,l),xi(this,l)}}get closed(){return ct(this)?this._closedPromise:S(ft("closed"))}get desiredSize(){if(!ct(this))throw ft("desiredSize");if(this._ownerWritableStream===void 0)throw nr("desiredSize");return kl(this)}get ready(){return ct(this)?this._readyPromise:S(ft("ready"))}abort(n=void 0){return ct(this)?this._ownerWritableStream===void 0?S(nr("abort")):Al(this,n):S(ft("abort"))}close(){if(!ct(this))return S(ft("close"));let n=this._ownerWritableStream;return n===void 0?S(nr("close")):Ie(n)?S(new TypeError("Cannot close an already-closing stream")):Ti(this)}releaseLock(){if(!ct(this))throw ft("releaseLock");this._ownerWritableStream!==void 0&&Ci(this)}write(n=void 0){return ct(this)?this._ownerWritableStream===void 0?S(nr("write to")):Pi(this,n):S(ft("write"))}}Object.defineProperties(rr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(rr.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function ct(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof rr}function Al(e,n){let a=e._ownerWritableStream;return Ur(a,n)}function Ti(e){let n=e._ownerWritableStream;return vi(n)}function Il(e){let n=e._ownerWritableStream,a=n._state;return Ie(n)||a==="closed"?g(void 0):a==="errored"?S(n._storedError):Ti(e)}function Ol(e,n){e._closedPromiseState==="pending"?no(e,n):$l(e,n)}function Ei(e,n){e._readyPromiseState==="pending"?qi(e,n):Ml(e,n)}function kl(e){let n=e._ownerWritableStream,a=n._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:Oi(n._writableStreamController)}function Ci(e){let n=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ei(e,a),Ol(e,a),n._writer=void 0,e._ownerWritableStream=void 0}function Pi(e,n){let a=e._ownerWritableStream,l=a._writableStreamController,f=Dl(l,n);if(a!==e._ownerWritableStream)return S(nr("write to"));let p=a._state;if(p==="errored")return S(a._storedError);if(Ie(a)||p==="closed")return S(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return S(a._storedError);let b=_l(a);return ql(l,n,f),b}let Ai={};class Et{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Jn(this))throw ro("abortReason");return this._abortReason}get signal(){if(!Jn(this))throw ro("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!Jn(this))throw ro("error");this._controlledWritableStream._state==="writable"&&ki(this,n)}[_t](n){let a=this._abortAlgorithm(n);return jr(this),a}[wt](){Ye(this)}}Object.defineProperties(Et.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Jn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Et}function Ii(e,n,a,l,f,p,b,v){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,Ye(n),n._abortReason=void 0,n._abortController=gl(),n._started=!1,n._strategySizeAlgorithm=v,n._strategyHWM=b,n._writeAlgorithm=l,n._closeAlgorithm=f,n._abortAlgorithm=p;let I=to(n);Zn(e,I);let B=a(),q=g(B);E(q,()=>{n._started=!0,Hr(n)},W=>{n._started=!0,Qn(e,W)})}function xl(e,n,a,l){let f=Object.create(Et.prototype),p=()=>{},b=()=>g(void 0),v=()=>g(void 0),I=()=>g(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.write!==void 0&&(b=B=>n.write(B,f)),n.close!==void 0&&(v=()=>n.close()),n.abort!==void 0&&(I=B=>n.abort(B)),Ii(e,f,p,b,v,I,a,l)}function jr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Bl(e){Un(e,Ai,0),Hr(e)}function Dl(e,n){try{return e._strategySizeAlgorithm(n)}catch(a){return eo(e,a),1}}function Oi(e){return e._strategyHWM-e._queueTotalSize}function ql(e,n,a){try{Un(e,n,a)}catch(f){eo(e,f);return}let l=e._controlledWritableStream;if(!Ie(l)&&l._state==="writable"){let f=to(e);Zn(l,f)}Hr(e)}function Hr(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){Kn(n);return}if(e._queue.length===0)return;let l=rl(e);l===Ai?Wl(e):Fl(e,l)}function eo(e,n){e._controlledWritableStream._state==="writable"&&ki(e,n)}function Wl(e){let n=e._controlledWritableStream;Cl(n),Mn(e);let a=e._closeAlgorithm();jr(e),E(a,()=>{vl(n)},l=>{Tl(n,l)})}function Fl(e,n){let a=e._controlledWritableStream;Pl(a);let l=e._writeAlgorithm(n);E(l,()=>{wl(a);let f=a._state;if(Mn(e),!Ie(a)&&f==="writable"){let p=to(e);Zn(a,p)}Hr(e)},f=>{a._state==="writable"&&jr(e),Rl(a,f)})}function to(e){return Oi(e)<=0}function ki(e,n){let a=e._controlledWritableStream;jr(e),Xn(a,n)}function Gr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function ro(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function ft(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function nr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Vr(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a,e._closedPromiseState="pending"})}function xi(e,n){Vr(e),no(e,n)}function Ll(e){Vr(e),Bi(e)}function no(e,n){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function $l(e,n){xi(e,n)}function Bi(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Yr(e){e._readyPromise=R((n,a)=>{e._readyPromise_resolve=n,e._readyPromise_reject=a}),e._readyPromiseState="pending"}function oo(e,n){Yr(e),qi(e,n)}function Di(e){Yr(e),io(e)}function qi(e,n){e._readyPromise_reject!==void 0&&(M(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function zl(e){Yr(e)}function Ml(e,n){oo(e,n)}function io(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Wi=typeof DOMException<"u"?DOMException:void 0;function Ul(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Nl(){let e=function(a,l){this.message=a||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let jl=Ul(Wi)?Wi:Nl();function Fi(e,n,a,l,f,p){let b=ge(e),v=wi(n);e._disturbed=!0;let I=!1,B=g(void 0);return R((q,W)=>{let H;if(p!==void 0){if(H=()=>{let C=new jl("Aborted","AbortError"),k=[];l||k.push(()=>n._state==="writable"?Ur(n,C):g(void 0)),f||k.push(()=>e._state==="readable"?Re(e,C):g(void 0)),ue(()=>Promise.all(k.map($=>$())),!0,C)},p.aborted){H();return}p.addEventListener("abort",H)}function ve(){return R((C,k)=>{function $(he){he?C():_(At(),$,k)}$(!1)})}function At(){return I?g(!0):_(v._readyPromise,()=>R((C,k)=>{Yt(b,{_chunkSteps:$=>{B=_(Pi(v,$),void 0,o),C(!1)},_closeSteps:()=>C(!0),_errorSteps:k})}))}if($e(e,b._closedPromise,C=>{l?Se(!0,C):ue(()=>Ur(n,C),!0,C)}),$e(n,v._closedPromise,C=>{f?Se(!0,C):ue(()=>Re(e,C),!0,C)}),ne(e,b._closedPromise,()=>{a?Se():ue(()=>Il(v))}),Ie(n)||n._state==="closed"){let C=new TypeError("the destination writable stream closed before all data could be piped to it");f?Se(!0,C):ue(()=>Re(e,C),!0,C)}M(ve());function Je(){let C=B;return _(B,()=>C!==B?Je():void 0)}function $e(C,k,$){C._state==="errored"?$(C._storedError):w(k,$)}function ne(C,k,$){C._state==="closed"?$():T(k,$)}function ue(C,k,$){if(I)return;I=!0,n._state==="writable"&&!Ie(n)?T(Je(),he):he();function he(){E(C(),()=>ze(k,$),It=>ze(!0,It))}}function Se(C,k){I||(I=!0,n._state==="writable"&&!Ie(n)?T(Je(),()=>ze(C,k)):ze(C,k))}function ze(C,k){Ci(v),oe(b),p!==void 0&&p.removeEventListener("abort",H),C?W(k):q(void 0)}})}class Ct{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Qr(this))throw Zr("desiredSize");return ao(this)}close(){if(!Qr(this))throw Zr("close");if(!Pt(this))throw new TypeError("The stream is not in a state that permits close");ir(this)}enqueue(n=void 0){if(!Qr(this))throw Zr("enqueue");if(!Pt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Kr(this,n)}error(n=void 0){if(!Qr(this))throw Zr("error");Qe(this,n)}[Ce](n){Ye(this);let a=this._cancelAlgorithm(n);return Xr(this),a}[nt](n){let a=this._controlledReadableStream;if(this._queue.length>0){let l=Mn(this);this._closeRequested&&this._queue.length===0?(Xr(this),ar(a)):or(this),n._chunkSteps(l)}else Ge(a,n),or(this)}}Object.defineProperties(Ct.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Qr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Ct}function or(e){if(!Li(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,or(e))},l=>{Qe(e,l)})}function Li(e){let n=e._controlledReadableStream;return!Pt(e)||!e._started?!1:!!(Ze(n)&&Ae(n)>0||ao(e)>0)}function Xr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ir(e){if(!Pt(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Xr(e),ar(n))}function Kr(e,n){if(!Pt(e))return;let a=e._controlledReadableStream;if(Ze(a)&&Ae(a)>0)at(a,n,!1);else{let l;try{l=e._strategySizeAlgorithm(n)}catch(f){throw Qe(e,f),f}try{Un(e,n,l)}catch(f){throw Qe(e,f),f}}or(e)}function Qe(e,n){let a=e._controlledReadableStream;a._state==="readable"&&(Ye(e),Xr(e),Ui(a,n))}function ao(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Hl(e){return!Li(e)}function Pt(e){let n=e._controlledReadableStream._state;return!e._closeRequested&&n==="readable"}function $i(e,n,a,l,f,p,b){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,Ye(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=b,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,e._readableStreamController=n;let v=a();E(g(v),()=>{n._started=!0,or(n)},I=>{Qe(n,I)})}function Gl(e,n,a,l){let f=Object.create(Ct.prototype),p=()=>{},b=()=>g(void 0),v=()=>g(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.pull!==void 0&&(b=()=>n.pull(f)),n.cancel!==void 0&&(v=I=>n.cancel(I)),$i(e,f,p,b,v,a,l)}function Zr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Vl(e,n){return st(e._readableStreamController)?Ql(e):Yl(e)}function Yl(e,n){let a=ge(e),l=!1,f=!1,p=!1,b=!1,v,I,B,q,W,H=R(ne=>{W=ne});function ve(){return l?(f=!0,g(void 0)):(l=!0,Yt(a,{_chunkSteps:ue=>{P(()=>{f=!1;let Se=ue,ze=ue;p||Kr(B._readableStreamController,Se),b||Kr(q._readableStreamController,ze),l=!1,f&&ve()})},_closeSteps:()=>{l=!1,p||ir(B._readableStreamController),b||ir(q._readableStreamController),(!p||!b)&&W(void 0)},_errorSteps:()=>{l=!1}}),g(void 0))}function At(ne){if(p=!0,v=ne,b){let ue=Qt([v,I]),Se=Re(e,ue);W(Se)}return H}function Je(ne){if(b=!0,I=ne,p){let ue=Qt([v,I]),Se=Re(e,ue);W(Se)}return H}function $e(){}return B=so($e,ve,At),q=so($e,ve,Je),w(a._closedPromise,ne=>{Qe(B._readableStreamController,ne),Qe(q._readableStreamController,ne),(!p||!b)&&W(void 0)}),[B,q]}function Ql(e){let n=ge(e),a=!1,l=!1,f=!1,p=!1,b=!1,v,I,B,q,W,H=R(C=>{W=C});function ve(C){w(C._closedPromise,k=>{C===n&&(we(B._readableStreamController,k),we(q._readableStreamController,k),(!p||!b)&&W(void 0))})}function At(){lt(n)&&(oe(n),n=ge(e),ve(n)),Yt(n,{_chunkSteps:k=>{P(()=>{l=!1,f=!1;let $=k,he=k;if(!p&&!b)try{he=ai(k)}catch(It){we(B._readableStreamController,It),we(q._readableStreamController,It),W(Re(e,It));return}p||Wr(B._readableStreamController,$),b||Wr(q._readableStreamController,he),a=!1,l?$e():f&&ne()})},_closeSteps:()=>{a=!1,p||Kt(B._readableStreamController),b||Kt(q._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&Fr(B._readableStreamController,0),q._readableStreamController._pendingPullIntos.length>0&&Fr(q._readableStreamController,0),(!p||!b)&&W(void 0)},_errorSteps:()=>{a=!1}})}function Je(C,k){Ve(n)&&(oe(n),n=bi(e),ve(n));let $=k?q:B,he=k?B:q;Si(n,C,{_chunkSteps:Ot=>{P(()=>{l=!1,f=!1;let kt=k?b:p;if(k?p:b)kt||Lr($._readableStreamController,Ot);else{let ta;try{ta=ai(Ot)}catch(lo){we($._readableStreamController,lo),we(he._readableStreamController,lo),W(Re(e,lo));return}kt||Lr($._readableStreamController,Ot),Wr(he._readableStreamController,ta)}a=!1,l?$e():f&&ne()})},_closeSteps:Ot=>{a=!1;let kt=k?b:p,un=k?p:b;kt||Kt($._readableStreamController),un||Kt(he._readableStreamController),Ot!==void 0&&(kt||Lr($._readableStreamController,Ot),!un&&he._readableStreamController._pendingPullIntos.length>0&&Fr(he._readableStreamController,0)),(!kt||!un)&&W(void 0)},_errorSteps:()=>{a=!1}})}function $e(){if(a)return l=!0,g(void 0);a=!0;let C=Gn(B._readableStreamController);return C===null?At():Je(C._view,!1),g(void 0)}function ne(){if(a)return f=!0,g(void 0);a=!0;let C=Gn(q._readableStreamController);return C===null?At():Je(C._view,!0),g(void 0)}function ue(C){if(p=!0,v=C,b){let k=Qt([v,I]),$=Re(e,k);W($)}return H}function Se(C){if(b=!0,I=C,p){let k=Qt([v,I]),$=Re(e,k);W($)}return H}function ze(){}return B=Mi(ze,$e,ue),q=Mi(ze,ne,Se),ve(n),[B,q]}function Xl(e,n){j(e,n);let a=e,l=a?.autoAllocateChunkSize,f=a?.cancel,p=a?.pull,b=a?.start,v=a?.type;return{autoAllocateChunkSize:l===void 0?void 0:me(l,`${n} has member 'autoAllocateChunkSize' that`),cancel:f===void 0?void 0:Kl(f,a,`${n} has member 'cancel' that`),pull:p===void 0?void 0:Zl(p,a,`${n} has member 'pull' that`),start:b===void 0?void 0:Jl(b,a,`${n} has member 'start' that`),type:v===void 0?void 0:ec(v,`${n} has member 'type' that`)}}function Kl(e,n,a){return U(e,a),l=>A(e,n,[l])}function Zl(e,n,a){return U(e,a),l=>A(e,n,[l])}function Jl(e,n,a){return U(e,a),l=>D(e,n,[l])}function ec(e,n){if(e=`${e}`,e!=="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function tc(e,n){j(e,n);let a=e?.mode;return{mode:a===void 0?void 0:rc(a,`${n} has member 'mode' that`)}}function rc(e,n){if(e=`${e}`,e!=="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function nc(e,n){j(e,n);let a=e?.preventCancel;return{preventCancel:Boolean(a)}}function zi(e,n){j(e,n);let a=e?.preventAbort,l=e?.preventCancel,f=e?.preventClose,p=e?.signal;return p!==void 0&&oc(p,`${n} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(l),preventClose:Boolean(f),signal:p}}function oc(e,n){if(!bl(e))throw new TypeError(`${n} is not an AbortSignal.`)}function ic(e,n){j(e,n);let a=e?.readable;Le(a,"readable","ReadableWritablePair"),it(a,`${n} has member 'readable' that`);let l=e?.writable;return Le(l,"writable","ReadableWritablePair"),_i(l,`${n} has member 'writable' that`),{readable:a,writable:l}}class Xe{constructor(n={},a={}){n===void 0?n=null:ae(n,"First parameter");let l=Mr(a,"Second parameter"),f=Xl(n,"First parameter");if(uo(this),f.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=er(l,0);sl(this,f,p)}else{let p=zr(l),b=er(l,1);Gl(this,f,b,p)}}get locked(){if(!Ke(this))throw dt("locked");return Ze(this)}cancel(n=void 0){return Ke(this)?Ze(this)?S(new TypeError("Cannot cancel a stream that already has a reader")):Re(this,n):S(dt("cancel"))}getReader(n=void 0){if(!Ke(this))throw dt("getReader");return tc(n,"First parameter").mode===void 0?ge(this):bi(this)}pipeThrough(n,a={}){if(!Ke(this))throw dt("pipeThrough");re(n,1,"pipeThrough");let l=ic(n,"First parameter"),f=zi(a,"Second parameter");if(Ze(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Tt(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=Fi(this,l.writable,f.preventClose,f.preventAbort,f.preventCancel,f.signal);return M(p),l.readable}pipeTo(n,a={}){if(!Ke(this))return S(dt("pipeTo"));if(n===void 0)return S("Parameter 1 is required in 'pipeTo'.");if(!vt(n))return S(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=zi(a,"Second parameter")}catch(f){return S(f)}return Ze(this)?S(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Tt(n)?S(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Fi(this,n,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!Ke(this))throw dt("tee");let n=Vl(this);return Qt(n)}values(n=void 0){if(!Ke(this))throw dt("values");let a=nc(n,"First parameter");return el(this,a.preventCancel)}}Object.defineProperties(Xe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Xe.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Xe.prototype,r.asyncIterator,{value:Xe.prototype.values,writable:!0,configurable:!0});function so(e,n,a,l=1,f=()=>1){let p=Object.create(Xe.prototype);uo(p);let b=Object.create(Ct.prototype);return $i(p,b,e,n,a,l,f),p}function Mi(e,n,a){let l=Object.create(Xe.prototype);uo(l);let f=Object.create(Rt.prototype);return pi(l,f,e,n,a,0,void 0),l}function uo(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ke(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Xe}function Ze(e){return e._reader!==void 0}function Re(e,n){if(e._disturbed=!0,e._state==="closed")return g(void 0);if(e._state==="errored")return S(e._storedError);ar(e);let a=e._reader;a!==void 0&&lt(a)&&(a._readIntoRequests.forEach(f=>{f._closeSteps(void 0)}),a._readIntoRequests=new Z);let l=e._readableStreamController[Ce](n);return x(l,o)}function ar(e){e._state="closed";let n=e._reader;n!==void 0&&(Or(n),Ve(n)&&(n._readRequests.forEach(a=>{a._closeSteps()}),n._readRequests=new Z))}function Ui(e,n){e._state="errored",e._storedError=n;let a=e._reader;a!==void 0&&(We(a,n),Ve(a)?(a._readRequests.forEach(l=>{l._errorSteps(n)}),a._readRequests=new Z):(a._readIntoRequests.forEach(l=>{l._errorSteps(n)}),a._readIntoRequests=new Z))}function dt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Ni(e,n){j(e,n);let a=e?.highWaterMark;return Le(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:se(a)}}let ji=e=>e.byteLength;Object.defineProperty(ji,"name",{value:"size",configurable:!0});class Jr{constructor(n){re(n,1,"ByteLengthQueuingStrategy"),n=Ni(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Gi(this))throw Hi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Gi(this))throw Hi("size");return ji}}Object.defineProperties(Jr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Jr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Hi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Gi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof Jr}let Vi=()=>1;Object.defineProperty(Vi,"name",{value:"size",configurable:!0});class en{constructor(n){re(n,1,"CountQueuingStrategy"),n=Ni(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Qi(this))throw Yi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Qi(this))throw Yi("size");return Vi}}Object.defineProperties(en.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(en.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Yi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Qi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof en}function ac(e,n){j(e,n);let a=e?.flush,l=e?.readableType,f=e?.start,p=e?.transform,b=e?.writableType;return{flush:a===void 0?void 0:sc(a,e,`${n} has member 'flush' that`),readableType:l,start:f===void 0?void 0:uc(f,e,`${n} has member 'start' that`),transform:p===void 0?void 0:lc(p,e,`${n} has member 'transform' that`),writableType:b}}function sc(e,n,a){return U(e,a),l=>A(e,n,[l])}function uc(e,n,a){return U(e,a),l=>D(e,n,[l])}function lc(e,n,a){return U(e,a),(l,f)=>A(e,n,[l,f])}class tn{constructor(n={},a={},l={}){n===void 0&&(n=null);let f=Mr(a,"Second parameter"),p=Mr(l,"Third parameter"),b=ac(n,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let v=er(p,0),I=zr(p),B=er(f,1),q=zr(f),W,H=R(ve=>{W=ve});cc(this,H,B,q,v,I),dc(this,b),b.start!==void 0?W(b.start(this._transformStreamController)):W(void 0)}get readable(){if(!Xi(this))throw ea("readable");return this._readable}get writable(){if(!Xi(this))throw ea("writable");return this._writable}}Object.defineProperties(tn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(tn.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function cc(e,n,a,l,f,p){function b(){return n}function v(H){return pc(e,H)}function I(H){return bc(e,H)}function B(){return yc(e)}e._writable=Sl(b,v,B,I,a,l);function q(){return gc(e)}function W(H){return nn(e,H),g(void 0)}e._readable=so(b,q,W,f,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,on(e,!0),e._transformStreamController=void 0}function Xi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof tn}function rn(e,n){Qe(e._readable._readableStreamController,n),nn(e,n)}function nn(e,n){Ki(e._transformStreamController),eo(e._writable._writableStreamController,n),e._backpressure&&on(e,!1)}function on(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=R(a=>{e._backpressureChangePromise_resolve=a}),e._backpressure=n}class sr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!an(this))throw sn("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return ao(n)}enqueue(n=void 0){if(!an(this))throw sn("enqueue");Zi(this,n)}error(n=void 0){if(!an(this))throw sn("error");mc(this,n)}terminate(){if(!an(this))throw sn("terminate");hc(this)}}Object.defineProperties(sr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(sr.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function an(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof sr}function fc(e,n,a,l){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=a,n._flushAlgorithm=l}function dc(e,n){let a=Object.create(sr.prototype),l=p=>{try{return Zi(a,p),g(void 0)}catch(b){return S(b)}},f=()=>g(void 0);n.transform!==void 0&&(l=p=>n.transform(p,a)),n.flush!==void 0&&(f=()=>n.flush(a)),fc(e,a,l,f)}function Ki(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Zi(e,n){let a=e._controlledTransformStream,l=a._readable._readableStreamController;if(!Pt(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{Kr(l,n)}catch(p){throw nn(a,p),a._readable._storedError}Hl(l)!==a._backpressure&&on(a,!0)}function mc(e,n){rn(e._controlledTransformStream,n)}function Ji(e,n){let a=e._transformAlgorithm(n);return x(a,void 0,l=>{throw rn(e._controlledTransformStream,l),l})}function hc(e){let n=e._controlledTransformStream,a=n._readable._readableStreamController;ir(a);let l=new TypeError("TransformStream terminated");nn(n,l)}function pc(e,n){let a=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return x(l,()=>{let f=e._writable;if(f._state==="erroring")throw f._storedError;return Ji(a,n)})}return Ji(a,n)}function bc(e,n){return rn(e,n),g(void 0)}function yc(e){let n=e._readable,a=e._transformStreamController,l=a._flushAlgorithm();return Ki(a),x(l,()=>{if(n._state==="errored")throw n._storedError;ir(n._readableStreamController)},f=>{throw rn(e,f),n._storedError})}function gc(e){return on(e,!1),e._backpressureChangePromise}function sn(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ea(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Jr,t.CountQueuingStrategy=en,t.ReadableByteStreamController=Rt,t.ReadableStream=Xe,t.ReadableStreamBYOBReader=Jt,t.ReadableStreamBYOBRequest=Xt,t.ReadableStreamDefaultController=Ct,t.ReadableStreamDefaultReader=Vt,t.TransformStream=tn,t.TransformStreamDefaultController=sr,t.WritableStream=tr,t.WritableStreamDefaultController=Et,t.WritableStreamDefaultWriter=rr,Object.defineProperty(t,"__esModule",{value:!0})})});var ha=O(()=>{if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:r}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=r}catch(o){throw t.emitWarning=r,o}}catch{Object.assign(globalThis,ma())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(o){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let m=await s.slice(i,Math.min(s.size,i+65536)).arrayBuffer();i+=m.byteLength,u.enqueue(new Uint8Array(m)),i===s.size&&u.close()}})})}catch{}});async function*co(t,r=!0){for(let o of t)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,s=o.byteOffset+o.byteLength;for(;i!==s;){let u=Math.min(s-i,pa),c=o.buffer.slice(i,i+u);i+=c.byteLength,yield new Uint8Array(c)}}else yield o;else{let i=0,s=o;for(;i!==s.size;){let c=await s.slice(i,Math.min(s.size,i+pa)).arrayBuffer();i+=c.byteLength,yield new Uint8Array(c)}}}var wm,pa,ba,Cc,Me,lr=ur(()=>{wm=Te(ha(),1);pa=65536;ba=class fo{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let u of r){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof fo?c=u:c=i.encode(`${u}`),this.#r+=ArrayBuffer.isView(c)?c.byteLength:c.size,this.#e.push(c)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let i of co(this.#e,!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of co(this.#e,!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=co(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),c=o<0?Math.max(s+o,0):Math.min(o,s),m=Math.max(c-u,0),h=this.#e,d=[],y=0;for(let g of h){if(y>=m)break;let S=ArrayBuffer.isView(g)?g.byteLength:g.size;if(u&&S<=u)u-=S,c-=S;else{let _;ArrayBuffer.isView(g)?(_=g.subarray(u,Math.min(S,c)),y+=_.byteLength):(_=g.slice(u,Math.min(S,c)),y+=_.size),c-=S,d.push(_),u=0}}let R=new fo([],{type:String(i).toLowerCase()});return R.#r=m,R.#e=d,R}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(ba.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Cc=ba,Me=Cc});var Pc,Ac,Bt,mo=ur(()=>{lr();Pc=class extends Me{#e=0;#t="";constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i),i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof Me&&/^(File)$/.test(r[Symbol.toStringTag])}},Ac=Pc,Bt=Ac});function Sa(t,r=Me){var o=`${ya()}${ya()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return t.forEach((u,c)=>typeof u=="string"?i.push(s+ho(c)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+ho(c)+`"; filename="${ho(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}var cr,Ic,Oc,ya,kc,ga,ho,mt,ht,fn=ur(()=>{lr();mo();({toStringTag:cr,iterator:Ic,hasInstance:Oc}=Symbol),ya=Math.random,kc="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ga=(t,r,o)=>(t+="",/^(Blob|File)$/.test(r&&r[cr])?[(o=o!==void 0?o+"":r[cr]=="File"?r.name:"blob",t),r.name!==o||r[cr]=="blob"?new Bt([r],o,r):r]:[t,r+""]),ho=(t,r)=>(r?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),mt=(t,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},ht=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[cr](){return"FormData"}[Ic](){return this.entries()}static[Oc](r){return r&&typeof r=="object"&&r[cr]==="FormData"&&!kc.some(o=>typeof r[o]!="function")}append(...r){mt("append",arguments,2),this.#e.push(ga(...r))}delete(r){mt("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){mt("get",arguments,1),r+="";for(var o=this.#e,i=o.length,s=0;s<i;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return mt("getAll",arguments,1),o=[],r+="",this.#e.forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return mt("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){mt("forEach",arguments,1);for(var[i,s]of this)r.call(o,s,i,this)}set(...r){mt("set",arguments,2);var o=[],i=!0;r=ga(...r),this.#e.forEach(s=>{s[0]===r[0]?i&&(i=!o.push(r)):o.push(s)}),i&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var va=O((Dm,Ra)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Ra.exports=globalThis.DOMException});var dr,Ta,xc,mn,bo=ur(()=>{dr=require("node:fs"),Ta=Te(va(),1);mo();lr();({stat:xc}=dr.promises),mn=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new mn({path:this.#e,lastModified:this.lastModified,size:o-r,start:this.#t+r})}async*stream(){let{mtimeMs:r}=await xc(this.#e);if(r>this.lastModified)throw new Ta.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,dr.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ca={};ra(Ca,{toFormData:()=>$c});function Lc(t){let r=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),i}async function $c(t,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new yo(o[1]||o[2]),s,u,c,m,h,d,y=[],R=new ht,g=w=>{c+=T.decode(w,{stream:!0})},S=w=>{y.push(w)},_=()=>{let w=new Bt(y,d,{type:h});R.append(m,w)},E=()=>{R.append(m,c)},T=new TextDecoder("utf-8");T.decode(),i.onPartBegin=function(){i.onPartData=g,i.onPartEnd=E,s="",u="",c="",m="",h="",d=null,y.length=0},i.onHeaderField=function(w){s+=T.decode(w,{stream:!0})},i.onHeaderValue=function(w){u+=T.decode(w,{stream:!0})},i.onHeaderEnd=function(){if(u+=T.decode(),s=s.toLowerCase(),s==="content-disposition"){let w=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);w&&(m=w[2]||w[3]||""),d=Lc(u),d&&(i.onPartData=S,i.onPartEnd=_)}else s==="content-type"&&(h=u);u="",s=""};for await(let w of t)i.write(w);return i.end(),R}var Oe,z,Ea,et,hn,pn,Bc,mr,Dc,qc,Wc,Fc,pt,yo,Pa=ur(()=>{bo();fn();Oe=0,z={START_BOUNDARY:Oe++,HEADER_FIELD_START:Oe++,HEADER_FIELD:Oe++,HEADER_VALUE_START:Oe++,HEADER_VALUE:Oe++,HEADER_VALUE_ALMOST_DONE:Oe++,HEADERS_ALMOST_DONE:Oe++,PART_DATA_START:Oe++,PART_DATA:Oe++,END:Oe++},Ea=1,et={PART_BOUNDARY:Ea,LAST_BOUNDARY:Ea*=2},hn=10,pn=13,Bc=32,mr=45,Dc=58,qc=97,Wc=122,Fc=t=>t|32,pt=()=>{},yo=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=pt,this.onHeaderField=pt,this.onHeadersEnd=pt,this.onHeaderValue=pt,this.onPartBegin=pt,this.onPartData=pt,this.onPartEnd=pt,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=z.START_BOUNDARY}write(r){let o=0,i=r.length,s=this.index,{lookbehind:u,boundary:c,boundaryChars:m,index:h,state:d,flags:y}=this,R=this.boundary.length,g=R-1,S=r.length,_,E,T=P=>{this[P+"Mark"]=o},w=P=>{delete this[P+"Mark"]},x=(P,D,A,G)=>{(D===void 0||D!==A)&&this[P](G&&G.subarray(D,A))},M=(P,D)=>{let A=P+"Mark";A in this&&(D?(x(P,this[A],o,r),delete this[A]):(x(P,this[A],r.length,r),this[A]=0))};for(o=0;o<i;o++)switch(_=r[o],d){case z.START_BOUNDARY:if(h===c.length-2){if(_===mr)y|=et.LAST_BOUNDARY;else if(_!==pn)return;h++;break}else if(h-1===c.length-2){if(y&et.LAST_BOUNDARY&&_===mr)d=z.END,y=0;else if(!(y&et.LAST_BOUNDARY)&&_===hn)h=0,x("onPartBegin"),d=z.HEADER_FIELD_START;else return;break}_!==c[h+2]&&(h=-2),_===c[h+2]&&h++;break;case z.HEADER_FIELD_START:d=z.HEADER_FIELD,T("onHeaderField"),h=0;case z.HEADER_FIELD:if(_===pn){w("onHeaderField"),d=z.HEADERS_ALMOST_DONE;break}if(h++,_===mr)break;if(_===Dc){if(h===1)return;M("onHeaderField",!0),d=z.HEADER_VALUE_START;break}if(E=Fc(_),E<qc||E>Wc)return;break;case z.HEADER_VALUE_START:if(_===Bc)break;T("onHeaderValue"),d=z.HEADER_VALUE;case z.HEADER_VALUE:_===pn&&(M("onHeaderValue",!0),x("onHeaderEnd"),d=z.HEADER_VALUE_ALMOST_DONE);break;case z.HEADER_VALUE_ALMOST_DONE:if(_!==hn)return;d=z.HEADER_FIELD_START;break;case z.HEADERS_ALMOST_DONE:if(_!==hn)return;x("onHeadersEnd"),d=z.PART_DATA_START;break;case z.PART_DATA_START:d=z.PART_DATA,T("onPartData");case z.PART_DATA:if(s=h,h===0){for(o+=g;o<S&&!(r[o]in m);)o+=R;o-=g,_=r[o]}if(h<c.length)c[h]===_?(h===0&&M("onPartData",!0),h++):h=0;else if(h===c.length)h++,_===pn?y|=et.PART_BOUNDARY:_===mr?y|=et.LAST_BOUNDARY:h=0;else if(h-1===c.length)if(y&et.PART_BOUNDARY){if(h=0,_===hn){y&=~et.PART_BOUNDARY,x("onPartEnd"),x("onPartBegin"),d=z.HEADER_FIELD_START;break}}else y&et.LAST_BOUNDARY&&_===mr?(x("onPartEnd"),d=z.END,y=0):h=0;if(h>0)u[h-1]=_;else if(s>0){let P=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);x("onPartData",0,s,P),s=0,T("onPartData"),o--}break;case z.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}M("onHeaderField"),M("onHeaderValue"),M("onPartData"),this.index=h,this.state=d,this.flags=y}end(){if(this.state===z.HEADER_FIELD_START&&this.index===0||this.state===z.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==z.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ds=O((Oh,fs)=>{fs.exports=cs;cs.sync=bf;var us=require("fs");function pf(t,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var i=0;i<o.length;i++){var s=o[i].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function ls(t,r,o){return!t.isSymbolicLink()&&!t.isFile()?!1:pf(r,o)}function cs(t,r,o){us.stat(t,function(i,s){o(i,i?!1:ls(s,t,r))})}function bf(t,r){return ls(us.statSync(t),t,r)}});var ys=O((kh,bs)=>{bs.exports=hs;hs.sync=yf;var ms=require("fs");function hs(t,r,o){ms.stat(t,function(i,s){o(i,i?!1:ps(s,r))})}function yf(t,r){return ps(ms.statSync(t),r)}function ps(t,r){return t.isFile()&&gf(t,r)}function gf(t,r){var o=t.mode,i=t.uid,s=t.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),c=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),m=parseInt("100",8),h=parseInt("010",8),d=parseInt("001",8),y=m|h,R=o&d||o&h&&s===c||o&m&&i===u||o&y&&u===0;return R}});var Ss=O((Bh,gs)=>{var xh=require("fs"),En;process.platform==="win32"||global.TESTING_WINDOWS?En=ds():En=ys();gs.exports=ko;ko.sync=Sf;function ko(t,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,s){ko(t,r||{},function(u,c){u?s(u):i(c)})})}En(t,r||{},function(i,s){i&&(i.code==="EACCES"||r&&r.ignoreErrors)&&(i=null,s=!1),o(i,s)})}function Sf(t,r){try{return En.sync(t,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Cs=O((Dh,Es)=>{var Wt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",_s=require("path"),_f=Wt?";":":",ws=Ss(),Rs=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),vs=(t,r)=>{let o=r.colon||_f,i=t.match(/\//)||Wt&&t.match(/\\/)?[""]:[...Wt?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=Wt?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=Wt?s.split(o):[""];return Wt&&t.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:i,pathExt:u,pathExtExe:s}},Ts=(t,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:i,pathExt:s,pathExtExe:u}=vs(t,r),c=[],m=d=>new Promise((y,R)=>{if(d===i.length)return r.all&&c.length?y(c):R(Rs(t));let g=i[d],S=/^".*"$/.test(g)?g.slice(1,-1):g,_=_s.join(S,t),E=!S&&/^\.[\\\/]/.test(t)?t.slice(0,2)+_:_;y(h(E,d,0))}),h=(d,y,R)=>new Promise((g,S)=>{if(R===s.length)return g(m(y+1));let _=s[R];ws(d+_,{pathExt:u},(E,T)=>{if(!E&&T)if(r.all)c.push(d+_);else return g(d+_);return g(h(d,y,R+1))})});return o?m(0).then(d=>o(null,d),o):m(0)},wf=(t,r)=>{r=r||{};let{pathEnv:o,pathExt:i,pathExtExe:s}=vs(t,r),u=[];for(let c=0;c<o.length;c++){let m=o[c],h=/^".*"$/.test(m)?m.slice(1,-1):m,d=_s.join(h,t),y=!h&&/^\.[\\\/]/.test(t)?t.slice(0,2)+d:d;for(let R=0;R<i.length;R++){let g=y+i[R];try{if(ws.sync(g,{pathExt:s}))if(r.all)u.push(g);else return g}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw Rs(t)};Es.exports=Ts;Ts.sync=wf});var Bo=O((qh,xo)=>{"use strict";var Ps=(t={})=>{let r=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};xo.exports=Ps;xo.exports.default=Ps});var ks=O((Wh,Os)=>{"use strict";var As=require("path"),Rf=Cs(),vf=Bo();function Is(t,r){let o=t.options.env||process.env,i=process.cwd(),s=t.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(t.options.cwd)}catch{}let c;try{c=Rf.sync(t.command,{path:o[vf({env:o})],pathExt:r?As.delimiter:void 0})}catch{}finally{u&&process.chdir(i)}return c&&(c=As.resolve(s?t.options.cwd:"",c)),c}function Tf(t){return Is(t)||Is(t,!0)}Os.exports=Tf});var xs=O((Fh,qo)=>{"use strict";var Do=/([()\][%!^"`<>&|;, *?])/g;function Ef(t){return t=t.replace(Do,"^$1"),t}function Cf(t,r){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Do,"^$1"),r&&(t=t.replace(Do,"^$1")),t}qo.exports.command=Ef;qo.exports.argument=Cf});var Ds=O((Lh,Bs)=>{"use strict";Bs.exports=/^#!(.*)/});var Ws=O(($h,qs)=>{"use strict";var Pf=Ds();qs.exports=(t="")=>{let r=t.match(Pf);if(!r)return null;let[o,i]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?i:i?`${s} ${i}`:s}});var Ls=O((zh,Fs)=>{"use strict";var Wo=require("fs"),Af=Ws();function If(t){let o=Buffer.alloc(150),i;try{i=Wo.openSync(t,"r"),Wo.readSync(i,o,0,150,0),Wo.closeSync(i)}catch{}return Af(o.toString())}Fs.exports=If});var Us=O((Mh,Ms)=>{"use strict";var Of=require("path"),$s=ks(),zs=xs(),kf=Ls(),xf=process.platform==="win32",Bf=/\.(?:com|exe)$/i,Df=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function qf(t){t.file=$s(t);let r=t.file&&kf(t.file);return r?(t.args.unshift(t.file),t.command=r,$s(t)):t.file}function Wf(t){if(!xf)return t;let r=qf(t),o=!Bf.test(r);if(t.options.forceShell||o){let i=Df.test(r);t.command=Of.normalize(t.command),t.command=zs.command(t.command),t.args=t.args.map(u=>zs.argument(u,i));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Ff(t,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let i={command:t,args:r,options:o,file:void 0,original:{command:t,args:r}};return o.shell?i:Wf(i)}Ms.exports=Ff});var Hs=O((Uh,js)=>{"use strict";var Fo=process.platform==="win32";function Lo(t,r){return Object.assign(new Error(`${r} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${t.command}`,path:t.command,spawnargs:t.args})}function Lf(t,r){if(!Fo)return;let o=t.emit;t.emit=function(i,s){if(i==="exit"){let u=Ns(s,r,"spawn");if(u)return o.call(t,"error",u)}return o.apply(t,arguments)}}function Ns(t,r){return Fo&&t===1&&!r.file?Lo(r.original,"spawn"):null}function $f(t,r){return Fo&&t===1&&!r.file?Lo(r.original,"spawnSync"):null}js.exports={hookChildProcess:Lf,verifyENOENT:Ns,verifyENOENTSync:$f,notFoundError:Lo}});var Ys=O((Nh,Ft)=>{"use strict";var Gs=require("child_process"),$o=Us(),zo=Hs();function Vs(t,r,o){let i=$o(t,r,o),s=Gs.spawn(i.command,i.args,i.options);return zo.hookChildProcess(s,i),s}function zf(t,r,o){let i=$o(t,r,o),s=Gs.spawnSync(i.command,i.args,i.options);return s.error=s.error||zo.verifyENOENTSync(s.status,i),s}Ft.exports=Vs;Ft.exports.spawn=Vs;Ft.exports.sync=zf;Ft.exports._parse=$o;Ft.exports._enoent=zo});var Xs=O((jh,Qs)=>{"use strict";Qs.exports=t=>{let r=typeof t=="string"?`
`:`
`.charCodeAt(),o=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t[t.length-1]===o&&(t=t.slice(0,t.length-1)),t}});var Js=O((Hh,Rr)=>{"use strict";var wr=require("path"),Ks=Bo(),Zs=t=>{t={cwd:process.cwd(),path:process.env[Ks()],execPath:process.execPath,...t};let r,o=wr.resolve(t.cwd),i=[];for(;r!==o;)i.push(wr.join(o,"node_modules/.bin")),r=o,o=wr.resolve(o,"..");let s=wr.resolve(t.cwd,t.execPath,"..");return i.push(s),i.concat(t.path).join(wr.delimiter)};Rr.exports=Zs;Rr.exports.default=Zs;Rr.exports.env=t=>{t={env:process.env,...t};let r={...t.env},o=Ks({env:r});return t.path=r[o],r[o]=Rr.exports(t),r}});var tu=O((Gh,Mo)=>{"use strict";var eu=(t,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o));return t};Mo.exports=eu;Mo.exports.default=eu});var nu=O((Vh,Pn)=>{"use strict";var Mf=tu(),Cn=new WeakMap,ru=(t,r={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let o,i=0,s=t.displayName||t.name||"<anonymous>",u=function(...c){if(Cn.set(u,++i),i===1)o=t.apply(this,c),t=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return Mf(u,t),Cn.set(u,i),u};Pn.exports=ru;Pn.exports.default=ru;Pn.exports.callCount=t=>{if(!Cn.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Cn.get(t)}});var ou=O(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.SIGNALS=void 0;var Uf=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];An.SIGNALS=Uf});var Uo=O(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.SIGRTMAX=Lt.getRealtimeSignals=void 0;var Nf=function(){let t=au-iu+1;return Array.from({length:t},jf)};Lt.getRealtimeSignals=Nf;var jf=function(t,r){return{name:`SIGRT${r+1}`,number:iu+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},iu=34,au=64;Lt.SIGRTMAX=au});var su=O(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.getSignals=void 0;var Hf=require("os"),Gf=ou(),Vf=Uo(),Yf=function(){let t=(0,Vf.getRealtimeSignals)();return[...Gf.SIGNALS,...t].map(Qf)};In.getSignals=Yf;var Qf=function({name:t,number:r,description:o,action:i,forced:s=!1,standard:u}){let{signals:{[t]:c}}=Hf.constants,m=c!==void 0;return{name:t,number:m?c:r,description:o,supported:m,action:i,forced:s,standard:u}}});var lu=O($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.signalsByNumber=$t.signalsByName=void 0;var Xf=require("os"),uu=su(),Kf=Uo(),Zf=function(){return(0,uu.getSignals)().reduce(Jf,{})},Jf=function(t,{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:m}){return{...t,[r]:{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:m}}},ed=Zf();$t.signalsByName=ed;var td=function(){let t=(0,uu.getSignals)(),r=Kf.SIGRTMAX+1,o=Array.from({length:r},(i,s)=>rd(s,t));return Object.assign({},...o)},rd=function(t,r){let o=nd(t,r);if(o===void 0)return{};let{name:i,description:s,supported:u,action:c,forced:m,standard:h}=o;return{[t]:{name:i,number:t,description:s,supported:u,action:c,forced:m,standard:h}}},nd=function(t,r){let o=r.find(({name:i})=>Xf.constants.signals[i]===t);return o!==void 0?o:r.find(i=>i.number===t)},od=td();$t.signalsByNumber=od});var fu=O((Zh,cu)=>{"use strict";var{signalsByName:id}=lu(),ad=({timedOut:t,timeout:r,errorCode:o,signal:i,signalDescription:s,exitCode:u,isCanceled:c})=>t?`timed out after ${r} milliseconds`:c?"was canceled":o!==void 0?`failed with ${o}`:i!==void 0?`was killed with ${i} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",sd=({stdout:t,stderr:r,all:o,error:i,signal:s,exitCode:u,command:c,escapedCommand:m,timedOut:h,isCanceled:d,killed:y,parsed:{options:{timeout:R}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let g=s===void 0?void 0:id[s].description,S=i&&i.code,E=`Command ${ad({timedOut:h,timeout:R,errorCode:S,signal:s,signalDescription:g,exitCode:u,isCanceled:d})}: ${c}`,T=Object.prototype.toString.call(i)==="[object Error]",w=T?`${E}
${i.message}`:E,x=[w,r,t].filter(Boolean).join(`
`);return T?(i.originalMessage=i.message,i.message=x):i=new Error(x),i.shortMessage=w,i.command=c,i.escapedCommand=m,i.exitCode=u,i.signal=s,i.signalDescription=g,i.stdout=t,i.stderr=r,o!==void 0&&(i.all=o),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(h),i.isCanceled=d,i.killed=y&&!h,i};cu.exports=sd});var mu=O((Jh,No)=>{"use strict";var On=["stdin","stdout","stderr"],ud=t=>On.some(r=>t[r]!==void 0),du=t=>{if(!t)return;let{stdio:r}=t;if(r===void 0)return On.map(i=>t[i]);if(ud(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${On.map(i=>`\`${i}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,On.length);return Array.from({length:o},(i,s)=>r[s])};No.exports=du;No.exports.node=t=>{let r=du(t);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var hu=O((ep,kn)=>{kn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&kn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&kn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Su=O((tp,Ut)=>{var N=global.process,gt=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};gt(N)?(pu=require("assert"),zt=hu(),bu=/^win/i.test(N.platform),vr=require("events"),typeof vr!="function"&&(vr=vr.EventEmitter),N.__signal_exit_emitter__?X=N.__signal_exit_emitter__:(X=N.__signal_exit_emitter__=new vr,X.count=0,X.emitted={}),X.infinite||(X.setMaxListeners(1/0),X.infinite=!0),Ut.exports=function(t,r){if(!!gt(global.process)){pu.equal(typeof t,"function","a callback must be provided for exit handler"),Mt===!1&&jo();var o="exit";r&&r.alwaysLast&&(o="afterexit");var i=function(){X.removeListener(o,t),X.listeners("exit").length===0&&X.listeners("afterexit").length===0&&xn()};return X.on(o,t),i}},xn=function(){!Mt||!gt(global.process)||(Mt=!1,zt.forEach(function(r){try{N.removeListener(r,Bn[r])}catch{}}),N.emit=Dn,N.reallyExit=Ho,X.count-=1)},Ut.exports.unload=xn,St=function(r,o,i){X.emitted[r]||(X.emitted[r]=!0,X.emit(r,o,i))},Bn={},zt.forEach(function(t){Bn[t]=function(){if(!!gt(global.process)){var o=N.listeners(t);o.length===X.count&&(xn(),St("exit",null,t),St("afterexit",null,t),bu&&t==="SIGHUP"&&(t="SIGINT"),N.kill(N.pid,t))}}}),Ut.exports.signals=function(){return zt},Mt=!1,jo=function(){Mt||!gt(global.process)||(Mt=!0,X.count+=1,zt=zt.filter(function(r){try{return N.on(r,Bn[r]),!0}catch{return!1}}),N.emit=gu,N.reallyExit=yu)},Ut.exports.load=jo,Ho=N.reallyExit,yu=function(r){!gt(global.process)||(N.exitCode=r||0,St("exit",N.exitCode,null),St("afterexit",N.exitCode,null),Ho.call(N,N.exitCode))},Dn=N.emit,gu=function(r,o){if(r==="exit"&&gt(global.process)){o!==void 0&&(N.exitCode=o);var i=Dn.apply(this,arguments);return St("exit",N.exitCode,null),St("afterexit",N.exitCode,null),i}else return Dn.apply(this,arguments)}):Ut.exports=function(){};var pu,zt,bu,vr,X,xn,St,Bn,Mt,jo,Ho,yu,Dn,gu});var wu=O((rp,_u)=>{"use strict";var ld=require("os"),cd=Su(),fd=1e3*5,dd=(t,r="SIGTERM",o={})=>{let i=t(r);return md(t,r,o,i),i},md=(t,r,o,i)=>{if(!hd(r,o,i))return;let s=bd(o),u=setTimeout(()=>{t("SIGKILL")},s);u.unref&&u.unref()},hd=(t,{forceKillAfterTimeout:r},o)=>pd(t)&&r!==!1&&o,pd=t=>t===ld.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",bd=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return fd;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},yd=(t,r)=>{t.kill()&&(r.isCanceled=!0)},gd=(t,r,o)=>{t.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},Sd=(t,{timeout:r,killSignal:o="SIGTERM"},i)=>{if(r===0||r===void 0)return i;let s,u=new Promise((m,h)=>{s=setTimeout(()=>{gd(t,o,h)},r)}),c=i.finally(()=>{clearTimeout(s)});return Promise.race([u,c])},_d=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},wd=async(t,{cleanup:r,detached:o},i)=>{if(!r||o)return i;let s=cd(()=>{t.kill()});return i.finally(()=>{s()})};_u.exports={spawnedKill:dd,spawnedCancel:yd,setupTimeout:Sd,validateTimeout:_d,setExitHandler:wd}});var vu=O((np,Ru)=>{"use strict";var De=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";De.writable=t=>De(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";De.readable=t=>De(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";De.duplex=t=>De.writable(t)&&De.readable(t);De.transform=t=>De.duplex(t)&&typeof t._transform=="function";Ru.exports=De});var Eu=O((op,Tu)=>{"use strict";var{PassThrough:Rd}=require("stream");Tu.exports=t=>{t={...t};let{array:r}=t,{encoding:o}=t,i=o==="buffer",s=!1;r?s=!(o||i):o=o||"utf8",i&&(o=null);let u=new Rd({objectMode:s});o&&u.setEncoding(o);let c=0,m=[];return u.on("data",h=>{m.push(h),s?c=m.length:c+=h.length}),u.getBufferedValue=()=>r?m:i?Buffer.concat(m,c):m.join(""),u.getBufferedLength=()=>c,u}});var Cu=O((ip,Tr)=>{"use strict";var{constants:vd}=require("buffer"),Td=require("stream"),{promisify:Ed}=require("util"),Cd=Eu(),Pd=Ed(Td.pipeline),qn=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Go(t,r){if(!t)throw new Error("Expected a stream");r={maxBuffer:1/0,...r};let{maxBuffer:o}=r,i=Cd(r);return await new Promise((s,u)=>{let c=m=>{m&&i.getBufferedLength()<=vd.MAX_LENGTH&&(m.bufferedData=i.getBufferedValue()),u(m)};(async()=>{try{await Pd(t,i),s()}catch(m){c(m)}})(),i.on("data",()=>{i.getBufferedLength()>o&&c(new qn)})}),i.getBufferedValue()}Tr.exports=Go;Tr.exports.buffer=(t,r)=>Go(t,{...r,encoding:"buffer"});Tr.exports.array=(t,r)=>Go(t,{...r,array:!0});Tr.exports.MaxBufferError=qn});var Au=O((ap,Pu)=>{"use strict";var{PassThrough:Ad}=require("stream");Pu.exports=function(){var t=[],r=new Ad({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=i,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(t.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function i(){return t.length==0}function s(u){t=t.filter(function(c){return c!==u}),!t.length&&r.readable&&r.end()}}});var xu=O((sp,ku)=>{"use strict";var Ou=vu(),Iu=Cu(),Id=Au(),Od=(t,r)=>{r===void 0||t.stdin===void 0||(Ou(r)?r.pipe(t.stdin):t.stdin.end(r))},kd=(t,{all:r})=>{if(!r||!t.stdout&&!t.stderr)return;let o=Id();return t.stdout&&o.add(t.stdout),t.stderr&&o.add(t.stderr),o},Vo=async(t,r)=>{if(!!t){t.destroy();try{return await r}catch(o){return o.bufferedData}}},Yo=(t,{encoding:r,buffer:o,maxBuffer:i})=>{if(!(!t||!o))return r?Iu(t,{encoding:r,maxBuffer:i}):Iu.buffer(t,{maxBuffer:i})},xd=async({stdout:t,stderr:r,all:o},{encoding:i,buffer:s,maxBuffer:u},c)=>{let m=Yo(t,{encoding:i,buffer:s,maxBuffer:u}),h=Yo(r,{encoding:i,buffer:s,maxBuffer:u}),d=Yo(o,{encoding:i,buffer:s,maxBuffer:u*2});try{return await Promise.all([c,m,h,d])}catch(y){return Promise.all([{error:y,signal:y.signal,timedOut:y.timedOut},Vo(t,m),Vo(r,h),Vo(o,d)])}},Bd=({input:t})=>{if(Ou(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};ku.exports={handleInput:Od,makeAllStream:kd,getSpawnedResult:xd,validateInputSync:Bd}});var Du=O((up,Bu)=>{"use strict";var Dd=(async()=>{})().constructor.prototype,qd=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(Dd,t)]),Wd=(t,r)=>{for(let[o,i]of qd){let s=typeof r=="function"?(...u)=>Reflect.apply(i.value,r(),u):i.value.bind(r);Reflect.defineProperty(t,o,{...i,value:s})}return t},Fd=t=>new Promise((r,o)=>{t.on("exit",(i,s)=>{r({exitCode:i,signal:s})}),t.on("error",i=>{o(i)}),t.stdin&&t.stdin.on("error",i=>{o(i)})});Bu.exports={mergePromise:Wd,getSpawnedPromise:Fd}});var Fu=O((lp,Wu)=>{"use strict";var qu=(t,r=[])=>Array.isArray(r)?[t,...r]:[t],Ld=/^[\w.-]+$/,$d=/"/g,zd=t=>typeof t!="string"||Ld.test(t)?t:`"${t.replace($d,'\\"')}"`,Md=(t,r)=>qu(t,r).join(" "),Ud=(t,r)=>qu(t,r).map(o=>zd(o)).join(" "),Nd=/ +/g,jd=t=>{let r=[];for(let o of t.trim().split(Nd)){let i=r[r.length-1];i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${o}`:r.push(o)}return r};Wu.exports={joinCommand:Md,getEscapedCommand:Ud,parseCommand:jd}});var ju=O((cp,Nt)=>{"use strict";var Hd=require("path"),Qo=require("child_process"),Gd=Ys(),Vd=Xs(),Yd=Js(),Qd=nu(),Wn=fu(),$u=mu(),{spawnedKill:Xd,spawnedCancel:Kd,setupTimeout:Zd,validateTimeout:Jd,setExitHandler:em}=wu(),{handleInput:tm,getSpawnedResult:rm,makeAllStream:nm,validateInputSync:om}=xu(),{mergePromise:Lu,getSpawnedPromise:im}=Du(),{joinCommand:zu,parseCommand:Mu,getEscapedCommand:Uu}=Fu(),am=1e3*1e3*100,sm=({env:t,extendEnv:r,preferLocal:o,localDir:i,execPath:s})=>{let u=r?{...process.env,...t}:t;return o?Yd.env({env:u,cwd:i,execPath:s}):u},Nu=(t,r,o={})=>{let i=Gd._parse(t,r,o);return t=i.command,r=i.args,o=i.options,o={maxBuffer:am,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...o},o.env=sm(o),o.stdio=$u(o),process.platform==="win32"&&Hd.basename(t,".exe")==="cmd"&&r.unshift("/q"),{file:t,args:r,options:o,parsed:i}},Er=(t,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":t.stripFinalNewline?Vd(r):r,Fn=(t,r,o)=>{let i=Nu(t,r,o),s=zu(t,r),u=Uu(t,r);Jd(i.options);let c;try{c=Qo.spawn(i.file,i.args,i.options)}catch(S){let _=new Qo.ChildProcess,E=Promise.reject(Wn({error:S,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return Lu(_,E)}let m=im(c),h=Zd(c,i.options,m),d=em(c,i.options,h),y={isCanceled:!1};c.kill=Xd.bind(null,c.kill.bind(c)),c.cancel=Kd.bind(null,c,y);let g=Qd(async()=>{let[{error:S,exitCode:_,signal:E,timedOut:T},w,x,M]=await rm(c,i.options,d),P=Er(i.options,w),D=Er(i.options,x),A=Er(i.options,M);if(S||_!==0||E!==null){let G=Wn({error:S,exitCode:_,signal:E,stdout:P,stderr:D,all:A,command:s,escapedCommand:u,parsed:i,timedOut:T,isCanceled:y.isCanceled,killed:c.killed});if(!i.options.reject)return G;throw G}return{command:s,escapedCommand:u,exitCode:0,stdout:P,stderr:D,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return tm(c,i.options.input),c.all=nm(c,i.options),Lu(c,g)};Nt.exports=Fn;Nt.exports.sync=(t,r,o)=>{let i=Nu(t,r,o),s=zu(t,r),u=Uu(t,r);om(i.options);let c;try{c=Qo.spawnSync(i.file,i.args,i.options)}catch(d){throw Wn({error:d,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let m=Er(i.options,c.stdout,c.error),h=Er(i.options,c.stderr,c.error);if(c.error||c.status!==0||c.signal!==null){let d=Wn({stdout:m,stderr:h,error:c.error,signal:c.signal,exitCode:c.status,command:s,escapedCommand:u,parsed:i,timedOut:c.error&&c.error.code==="ETIMEDOUT",isCanceled:!1,killed:c.signal!==null});if(!i.options.reject)return d;throw d}return{command:s,escapedCommand:u,exitCode:0,stdout:m,stderr:h,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Nt.exports.command=(t,r)=>{let[o,...i]=Mu(t);return Fn(o,i,r)};Nt.exports.commandSync=(t,r)=>{let[o,...i]=Mu(t);return Fn.sync(o,i,r)};Nt.exports.node=(t,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let i=$u.node(o),s=process.execArgv.filter(m=>!m.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:c=s}=o;return Fn(u,[...c,t,...Array.isArray(r)?r:[]],{...o,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var hm={};ra(hm,{default:()=>mm});module.exports=Tc(hm);var $n=require("@raycast/api");var xt=require("@raycast/api"),oa=require("path"),ia=require("os"),aa=(0,xt.getPreferenceValues)(),sa=()=>{let{gridItemSize:t}=aa;return t=="small"?xt.Grid.ItemSize.Small:t=="large"?xt.Grid.ItemSize.Large:xt.Grid.ItemSize.Medium},ua=()=>aa.showImageTitle,la=t=>t.replace(/\w\S*/g,r=>r.charAt(0).toUpperCase()+r.substring(1).toLowerCase()),ca=t=>t[0]==="~"?(0,oa.join)((0,ia.homedir)(),t.slice(1)):t;var Be=require("@raycast/api"),Oo=require("react");var Ua=Te(require("node:http"),1),Na=Te(require("node:https"),1),bt=Te(require("node:zlib"),1),be=Te(require("node:stream"),1),pr=require("node:buffer");function Ec(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let r=t.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=t.substring(5,r).split(";"),i="",s=!1,u=o[0]||"text/plain",c=u;for(let y=1;y<o.length;y++)o[y]==="base64"?s=!0:(c+=`;${o[y]}`,o[y].indexOf("charset=")===0&&(i=o[y].substring(8)));!o[0]&&!i.length&&(c+=";charset=US-ASCII",i="US-ASCII");let m=s?"base64":"ascii",h=unescape(t.substring(r+1)),d=Buffer.from(h,m);return d.type=u,d.typeFull=c,d.charset=i,d}var fa=Ec;var _e=Te(require("node:stream"),1),Ne=require("node:util"),pe=require("node:buffer");lr();fn();var Ue=class extends Error{constructor(r,o){super(r),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var le=class extends Ue{constructor(r,o,i){super(r,o),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var dn=Symbol.toStringTag,po=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[dn]==="URLSearchParams",fr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[dn]),_a=t=>typeof t=="object"&&(t[dn]==="AbortSignal"||t[dn]==="EventTarget"),wa=(t,r)=>{let o=new URL(r).hostname,i=new URL(t).hostname;return o===i||o.endsWith(`.${i}`)};var zc=(0,Ne.promisify)(_e.default.pipeline),ce=Symbol("Body internals"),ke=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:po(r)?r=pe.Buffer.from(r.toString()):fr(r)||pe.Buffer.isBuffer(r)||(Ne.types.isAnyArrayBuffer(r)?r=pe.Buffer.from(r):ArrayBuffer.isView(r)?r=pe.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof _e.default||(r instanceof ht?(r=Sa(r),i=r.type.split("=")[1]):r=pe.Buffer.from(String(r))));let s=r;pe.Buffer.isBuffer(r)?s=_e.default.Readable.from(r):fr(r)&&(s=_e.default.Readable.from(r.stream())),this[ce]={body:r,stream:s,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof _e.default&&r.on("error",u=>{let c=u instanceof Ue?u:new le(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[ce].error=c})}get body(){return this[ce].stream}get bodyUsed(){return this[ce].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await bn(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new ht,s=new URLSearchParams(await this.text());for(let[u,c]of s)i.append(u,c);return i}let{toFormData:o}=await Promise.resolve().then(()=>(Pa(),Ca));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[ce].body&&this[ce].body.type||"",o=await this.arrayBuffer();return new Me([o],{type:r})}async json(){let r=await bn(this);return JSON.parse(r.toString())}async text(){return(await bn(this)).toString()}buffer(){return bn(this)}};ke.prototype.buffer=(0,Ne.deprecate)(ke.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ke.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ne.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function bn(t){if(t[ce].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[ce].disturbed=!0,t[ce].error)throw t[ce].error;let{body:r}=t;if(r===null)return pe.Buffer.alloc(0);if(!(r instanceof _e.default))return pe.Buffer.alloc(0);let o=[],i=0;try{for await(let s of r){if(t.size>0&&i+s.length>t.size){let u=new le(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw r.destroy(u),u}i+=s.length,o.push(s)}}catch(s){throw s instanceof Ue?s:new le(`Invalid response body while trying to fetch ${t.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?pe.Buffer.from(o.join("")):pe.Buffer.concat(o,i)}catch(s){throw new le(`Could not create Buffer from response body for ${t.url}: ${s.message}`,"system",s)}else throw new le(`Premature close of server response while trying to fetch ${t.url}`)}var Dt=(t,r)=>{let o,i,{body:s}=t[ce];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof _e.default&&typeof s.getBoundary!="function"&&(o=new _e.PassThrough({highWaterMark:r}),i=new _e.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(i),t[ce].stream=o,s=i),s},Mc=(0,Ne.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),yn=(t,r)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":po(t)?"application/x-www-form-urlencoded;charset=UTF-8":fr(t)?t.type||null:pe.Buffer.isBuffer(t)||Ne.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof ht?`multipart/form-data; boundary=${r[ce].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Mc(t)}`:t instanceof _e.default?null:"text/plain;charset=UTF-8",Aa=t=>{let{body:r}=t[ce];return r===null?0:fr(r)?r.size:pe.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Ia=async(t,{body:r})=>{r===null?t.end():await zc(r,t)};var go=require("node:util"),hr=Te(require("node:http"),1),gn=typeof hr.default.validateHeaderName=="function"?hr.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},So=typeof hr.default.validateHeaderValue=="function"?hr.default.validateHeaderValue:(t,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},fe=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof fe){let i=r.raw();for(let[s,u]of Object.entries(i))o.push(...u.map(c=>[s,c]))}else if(r!=null)if(typeof r=="object"&&!go.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||go.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([i,s])=>(gn(i),So(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0,super(o),new Proxy(this,{get(i,s,u){switch(s){case"append":case"set":return(c,m)=>(gn(c),So(c,String(m)),URLSearchParams.prototype[s].call(i,String(c).toLowerCase(),String(m)));case"delete":case"has":case"getAll":return c=>(gn(c),URLSearchParams.prototype[s].call(i,String(c).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(fe.prototype,["get","entries","forEach","values"].reduce((t,r)=>(t[r]={enumerable:!0},t),{}));function Oa(t=[]){return new fe(t.reduce((r,o,i,s)=>(i%2===0&&r.push(s.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return gn(r),So(r,String(o)),!0}catch{return!1}}))}var Uc=new Set([301,302,303,307,308]),Sn=t=>Uc.has(t);var Ee=Symbol("Response internals"),J=class extends ke{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,s=new fe(o.headers);if(r!==null&&!s.has("Content-Type")){let u=yn(r,this);u&&s.append("Content-Type",u)}this[Ee]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[Ee].type}get url(){return this[Ee].url||""}get status(){return this[Ee].status}get ok(){return this[Ee].status>=200&&this[Ee].status<300}get redirected(){return this[Ee].counter>0}get statusText(){return this[Ee].statusText}get headers(){return this[Ee].headers}get highWaterMark(){return this[Ee].highWaterMark}clone(){return new J(Dt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!Sn(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new J(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new J(null,{status:0,statusText:""});return r[Ee].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(J.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var $a=require("node:url"),za=require("node:util");var ka=t=>{if(t.search)return t.search;let r=t.href.length-1,o=t.hash||(t.href[r]==="#"?"#":"");return t.href[r-o.length]==="?"?"?":""};var Ba=require("node:net");function xa(t,r=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",r&&(t.pathname="",t.search=""),t)}var Da=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),qa="strict-origin-when-cross-origin";function Wa(t){if(!Da.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function Nc(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let r=t.host.replace(/(^\[)|(]$)/g,""),o=(0,Ba.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(t.host)?!1:t.protocol==="file:"}function qt(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:Nc(t)}function Fa(t,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let i=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let s=t.referrer,u=xa(s),c=xa(s,!0);u.toString().length>4096&&(u=c),r&&(u=r(u)),o&&(c=o(c));let m=new URL(t.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return c;case"unsafe-url":return u;case"strict-origin":return qt(u)&&!qt(m)?"no-referrer":c.toString();case"strict-origin-when-cross-origin":return u.origin===m.origin?u:qt(u)&&!qt(m)?"no-referrer":c;case"same-origin":return u.origin===m.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===m.origin?u:c;case"no-referrer-when-downgrade":return qt(u)&&!qt(m)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function La(t){let r=(t.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&Da.has(i)&&(o=i);return o}var Q=Symbol("Request internals"),_n=t=>typeof t=="object"&&typeof t[Q]=="object",jc=(0,za.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),je=class extends ke{constructor(r,o={}){let i;if(_n(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentails.`);let s=o.method||r.method||"GET";if(s=s.toUpperCase(),"data"in o&&jc(),(o.body!=null||_n(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:_n(r)&&r.body!==null?Dt(r):null;super(u,{size:o.size||r.size||0});let c=new fe(o.headers||r.headers||{});if(u!==null&&!c.has("Content-Type")){let d=yn(u,this);d&&c.set("Content-Type",d)}let m=_n(r)?r.signal:null;if("signal"in o&&(m=o.signal),m!=null&&!_a(m))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let h=o.referrer==null?r.referrer:o.referrer;if(h==="")h="no-referrer";else if(h){let d=new URL(h);h=/^about:(\/\/)?client$/.test(d)?"client":d}else h=void 0;this[Q]={method:s,redirect:o.redirect||r.redirect||"follow",headers:c,parsedURL:i,signal:m,referrer:h},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[Q].method}get url(){return(0,$a.format)(this[Q].parsedURL)}get headers(){return this[Q].headers}get redirect(){return this[Q].redirect}get signal(){return this[Q].signal}get referrer(){if(this[Q].referrer==="no-referrer")return"";if(this[Q].referrer==="client")return"about:client";if(this[Q].referrer)return this[Q].referrer.toString()}get referrerPolicy(){return this[Q].referrerPolicy}set referrerPolicy(r){this[Q].referrerPolicy=Wa(r)}clone(){return new je(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(je.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ma=t=>{let{parsedURL:r}=t[Q],o=new fe(t[Q].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(i="0"),t.body!==null){let m=Aa(t);typeof m=="number"&&!Number.isNaN(m)&&(i=String(m))}i&&o.set("Content-Length",i),t.referrerPolicy===""&&(t.referrerPolicy=qa),t.referrer&&t.referrer!=="no-referrer"?t[Q].referrer=Fa(t):t[Q].referrer="no-referrer",t[Q].referrer instanceof URL&&o.set("Referer",t.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),t.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=t;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let u=ka(r),c={path:r.pathname+u,method:t.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:s};return{parsedURL:r,options:c}};var wn=class extends Ue{constructor(r,o="aborted"){super(r,o)}};fn();bo();var Hc=new Set(["data:","http:","https:"]);async function Rn(t,r){return new Promise((o,i)=>{let s=new je(t,r),{parsedURL:u,options:c}=Ma(s);if(!Hc.has(u.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let _=fa(s.url),E=new J(_,{headers:{"Content-Type":_.typeFull}});o(E);return}let m=(u.protocol==="https:"?Na.default:Ua.default).request,{signal:h}=s,d=null,y=()=>{let _=new wn("The operation was aborted.");i(_),s.body&&s.body instanceof be.default.Readable&&s.body.destroy(_),!(!d||!d.body)&&d.body.emit("error",_)};if(h&&h.aborted){y();return}let R=()=>{y(),S()},g=m(u.toString(),c);h&&h.addEventListener("abort",R);let S=()=>{g.abort(),h&&h.removeEventListener("abort",R)};g.on("error",_=>{i(new le(`request to ${s.url} failed, reason: ${_.message}`,"system",_)),S()}),Gc(g,_=>{d.body.destroy(_)}),process.version<"v14"&&g.on("socket",_=>{let E;_.prependListener("end",()=>{E=_._eventsCount}),_.prependListener("close",T=>{if(d&&E<_._eventsCount&&!T){let w=new Error("Premature close");w.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",w)}})}),g.on("response",_=>{g.setTimeout(0);let E=Oa(_.rawHeaders);if(Sn(_.statusCode)){let P=E.get("Location"),D=null;try{D=P===null?null:new URL(P,s.url)}catch{if(s.redirect!=="manual"){i(new le(`uri requested responds with an invalid redirect URL: ${P}`,"invalid-redirect")),S();return}}switch(s.redirect){case"error":i(new le(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),S();return;case"manual":break;case"follow":{if(D===null)break;if(s.counter>=s.follow){i(new le(`maximum redirect reached at: ${s.url}`,"max-redirect")),S();return}let A={headers:new fe(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:Dt(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!wa(s.url,D))for(let Z of["authorization","www-authenticate","cookie","cookie2"])A.headers.delete(Z);if(_.statusCode!==303&&s.body&&r.body instanceof be.default.Readable){i(new le("Cannot follow redirect with body being a readable stream","unsupported-redirect")),S();return}(_.statusCode===303||(_.statusCode===301||_.statusCode===302)&&s.method==="POST")&&(A.method="GET",A.body=void 0,A.headers.delete("content-length"));let G=La(E);G&&(A.referrerPolicy=G),o(Rn(new je(D,A))),S();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}h&&_.once("end",()=>{h.removeEventListener("abort",R)});let T=(0,be.pipeline)(_,new be.PassThrough,P=>{P&&i(P)});process.version<"v12.10"&&_.on("aborted",R);let w={url:s.url,status:_.statusCode,statusText:_.statusMessage,headers:E,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},x=E.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||x===null||_.statusCode===204||_.statusCode===304){d=new J(T,w),o(d);return}let M={flush:bt.default.Z_SYNC_FLUSH,finishFlush:bt.default.Z_SYNC_FLUSH};if(x==="gzip"||x==="x-gzip"){T=(0,be.pipeline)(T,bt.default.createGunzip(M),P=>{P&&i(P)}),d=new J(T,w),o(d);return}if(x==="deflate"||x==="x-deflate"){let P=(0,be.pipeline)(_,new be.PassThrough,D=>{D&&i(D)});P.once("data",D=>{(D[0]&15)===8?T=(0,be.pipeline)(T,bt.default.createInflate(),A=>{A&&i(A)}):T=(0,be.pipeline)(T,bt.default.createInflateRaw(),A=>{A&&i(A)}),d=new J(T,w),o(d)}),P.once("end",()=>{d||(d=new J(T,w),o(d))});return}if(x==="br"){T=(0,be.pipeline)(T,bt.default.createBrotliDecompress(),P=>{P&&i(P)}),d=new J(T,w),o(d);return}d=new J(T,w),o(d)}),Ia(g,s).catch(i)})}function Gc(t,r){let o=pr.Buffer.from(`0\r
\r
`),i=!1,s=!1,u;t.on("response",c=>{let{headers:m}=c;i=m["transfer-encoding"]==="chunked"&&!m["content-length"]}),t.on("socket",c=>{let m=()=>{if(i&&!s){let h=new Error("Premature close");h.code="ERR_STREAM_PREMATURE_CLOSE",r(h)}};c.prependListener("close",m),t.on("abort",()=>{c.removeListener("close",m)}),c.on("data",h=>{s=pr.Buffer.compare(h.slice(-5),o)===0,!s&&u&&(s=pr.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&pr.Buffer.compare(h.slice(-2),o.slice(3))===0),u=h})})}var F=require("react");function Va(t,r,o,i){function s(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function m(y){try{d(i.next(y))}catch(R){c(R)}}function h(y){try{d(i.throw(y))}catch(R){c(R)}}function d(y){y.done?u(y.value):s(y.value).then(m,h)}d((i=i.apply(t,r||[])).next())})}function Ya(t,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,s,u,c;return c={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function m(d){return function(y){return h([d,y])}}function h(d){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,s&&(u=d[0]&2?s.return:d[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,d[1])).done)return u;switch(s=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,s=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){o.label=d[1];break}if(d[0]===6&&o.label<u[1]){o.label=u[1],u=d;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(d);break}u[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(t,o)}catch(y){d=[6,y],s=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var xe=function(){},ee=xe(),br=Object,de=function(t){return t===ee},Sr=function(t){return typeof t=="function"},He=function(t,r){return br.assign({},t,r)},Po="undefined",Ao=function(){return typeof window!=Po},Vc=function(){return typeof document!=Po},Yc=function(){return Ao()&&typeof window.requestAnimationFrame!=Po},vn=new WeakMap,Qc=0,_r=function(t){var r=typeof t,o=t&&t.constructor,i=o==Date,s,u;if(br(t)===t&&!i&&o!=RegExp){if(s=vn.get(t),s)return s;if(s=++Qc+"~",vn.set(t,s),o==Array){for(s="@",u=0;u<t.length;u++)s+=_r(t[u])+",";vn.set(t,s)}if(o==br){s="#";for(var c=br.keys(t).sort();!de(u=c.pop());)de(t[u])||(s+=u+":"+_r(t[u])+",");vn.set(t,s)}}else s=i?t.toJSON():r=="symbol"?t.toString():r=="string"?JSON.stringify(t):""+t;return s},Ro=!0,Xc=function(){return Ro},Qa=Ao(),Io=Vc(),vo=Qa&&window.addEventListener?window.addEventListener.bind(window):xe,Kc=Io?document.addEventListener.bind(document):xe,To=Qa&&window.removeEventListener?window.removeEventListener.bind(window):xe,Zc=Io?document.removeEventListener.bind(document):xe,Jc=function(){var t=Io&&document.visibilityState;return de(t)||t!=="hidden"},ef=function(t){return Kc("visibilitychange",t),vo("focus",t),function(){Zc("visibilitychange",t),To("focus",t)}},tf=function(t){var r=function(){Ro=!0,t()},o=function(){Ro=!1};return vo("online",r),vo("offline",o),function(){To("online",r),To("offline",o)}},rf={isOnline:Xc,isVisible:Jc},nf={initFocus:ef,initReconnect:tf},Tn=!Ao()||"Deno"in window,of=function(t){return Yc()?window.requestAnimationFrame(t):setTimeout(t,1)},yr=Tn?F.useEffect:F.useLayoutEffect,_o=typeof navigator<"u"&&navigator.connection,ja=!Tn&&_o&&(["slow-2g","2g"].includes(_o.effectiveType)||_o.saveData),Xa=function(t){if(Sr(t))try{t=t()}catch{t=""}var r=[].concat(t);t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?_r(t):"";var o=t?"$swr$"+t:"";return[t,r,o]},yt=new WeakMap,Ka=0,Za=1,Ja=2,gr=function(t,r,o,i,s,u,c){c===void 0&&(c=!0);var m=yt.get(t),h=m[0],d=m[1],y=m[3],R=h[r],g=d[r];if(c&&g)for(var S=0;S<g.length;++S)g[S](o,i,s);return u&&(delete y[r],R&&R[0])?R[0](Ja).then(function(){return t.get(r)}):t.get(r)},af=0,Eo=function(){return++af},es=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Va(void 0,void 0,void 0,function(){var o,i,s,u,c,m,h,d,y,R,g,S,_,E,T,w,x,M,P,D;return Ya(this,function(A){switch(A.label){case 0:if(o=t[0],i=t[1],s=t[2],u=t[3],c=typeof u=="boolean"?{revalidate:u}:u||{},m=c.populateCache!==!1,h=c.revalidate!==!1,d=c.rollbackOnError!==!1,y=c.optimisticData,R=Xa(i),g=R[0],S=R[2],!g)return[2];if(_=yt.get(o),E=_[2],t.length<3)return[2,gr(o,g,o.get(g),ee,ee,h,m)];if(T=s,x=Eo(),E[g]=[x,0],M=!de(y),P=o.get(g),M&&(o.set(g,y),gr(o,g,y)),Sr(T))try{T=T(o.get(g))}catch(G){w=G}return T&&Sr(T.then)?[4,T.catch(function(G){w=G})]:[3,2];case 1:if(T=A.sent(),x!==E[g][0]){if(w)throw w;return[2,T]}else w&&M&&d&&(m=!0,T=P,o.set(g,P));A.label=2;case 2:return m&&(w||o.set(g,T),o.set(S,He(o.get(S),{error:w}))),E[g][1]=Eo(),[4,gr(o,g,T,w,ee,h,m)];case 3:if(D=A.sent(),w)throw w;return[2,m?D:T]}})})},Ha=function(t,r){for(var o in t)t[o][0]&&t[o][0](r)},ts=function(t,r){if(!yt.has(t)){var o=He(nf,r),i={},s=es.bind(ee,t),u=xe;if(yt.set(t,[i,{},{},{},s]),!Tn){var c=o.initFocus(setTimeout.bind(ee,Ha.bind(ee,i,Ka))),m=o.initReconnect(setTimeout.bind(ee,Ha.bind(ee,i,Za)));u=function(){c&&c(),m&&m(),yt.delete(t)}}return[t,s,u]}return[t,yt.get(t)[4]]},sf=function(t,r,o,i,s){var u=o.errorRetryCount,c=s.retryCount,m=~~((Math.random()+.5)*(1<<(c<8?c:8)))*o.errorRetryInterval;!de(u)&&c>u||setTimeout(i,m,s)},rs=ts(new Map),ns=rs[0],uf=rs[1],os=He({onLoadingSlow:xe,onSuccess:xe,onError:xe,onErrorRetry:sf,onDiscarded:xe,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ja?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ja?5e3:3e3,compare:function(t,r){return _r(t)==_r(r)},isPaused:function(){return!1},cache:ns,mutate:uf,fallback:{}},rf),is=function(t,r){var o=He(t,r);if(r){var i=t.use,s=t.fallback,u=r.use,c=r.fallback;i&&u&&(o.use=i.concat(u)),s&&c&&(o.fallback=He(s,c))}return o},Co=(0,F.createContext)({}),lf=function(t){var r=t.value,o=is((0,F.useContext)(Co),r),i=r&&r.provider,s=(0,F.useState)(function(){return i?ts(i(o.cache||ns),r):ee})[0];return s&&(o.cache=s[0],o.mutate=s[1]),yr(function(){return s?s[2]:ee},[]),(0,F.createElement)(Co.Provider,He(t,{value:o}))},cf=function(t,r){var o=(0,F.useState)({})[1],i=(0,F.useRef)(t),s=(0,F.useRef)({data:!1,error:!1,isValidating:!1}),u=(0,F.useCallback)(function(c){var m=!1,h=i.current;for(var d in c){var y=d;h[y]!==c[y]&&(h[y]=c[y],s.current[y]&&(m=!0))}m&&!r.current&&o({})},[]);return yr(function(){i.current=t}),[i,s.current,u]},ff=function(t){return Sr(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}]},df=function(){return He(os,(0,F.useContext)(Co))},mf=function(t){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=df(),u=ff(o),c=u[0],m=u[1],h=u[2],d=is(s,h),y=t,R=d.use;if(R)for(var g=R.length;g-- >0;)y=R[g](y);return y(c,m||d.fetcher,d)}},Ga=function(t,r,o){var i=r[t]||(r[t]=[]);return i.push(o),function(){var s=i.indexOf(o);s>=0&&(i[s]=i[i.length-1],i.pop())}},wo={dedupe:!0},hf=function(t,r,o){var i=o.cache,s=o.compare,u=o.fallbackData,c=o.suspense,m=o.revalidateOnMount,h=o.refreshInterval,d=o.refreshWhenHidden,y=o.refreshWhenOffline,R=yt.get(i),g=R[0],S=R[1],_=R[2],E=R[3],T=Xa(t),w=T[0],x=T[1],M=T[2],P=(0,F.useRef)(!1),D=(0,F.useRef)(!1),A=(0,F.useRef)(w),G=(0,F.useRef)(r),Z=(0,F.useRef)(o),V=function(){return Z.current},rt=function(){return V().isVisible()&&V().isOnline()},oe=function(j){return i.set(M,He(i.get(M),j))},qe=i.get(w),Ht=de(u)?o.fallback[w]:u,ye=de(qe)?Ht:qe,Ar=i.get(M)||{},We=Ar.error,Ir=function(){return de(m)?V().isPaused()?!1:c?!de(ye):de(ye)||o.revalidateIfStale:m},Or=function(){return!w||!r?!1:Ar.isValidating?!0:!P.current&&Ir()},_t=Or(),wt=cf({data:ye,error:We,isValidating:_t},D),Ce=wt[0],nt=wt[1],ot=wt[2],Fe=(0,F.useCallback)(function(j){return Va(void 0,void 0,void 0,function(){var U,ie,ae,re,Le,se,Y,Pe,me,it,ge,Ge,at;return Ya(this,function(Ae){switch(Ae.label){case 0:if(U=G.current,!w||!U||D.current||V().isPaused())return[2,!1];re=!0,Le=j||{},se=!E[w]||!Le.dedupe,Y=function(){return!D.current&&w===A.current&&P.current},Pe=function(){var Gt=E[w];Gt&&Gt[1]===ae&&delete E[w]},me={isValidating:!1},it=function(){oe({isValidating:!1}),Y()&&ot(me)},oe({isValidating:!0}),ot({isValidating:!0}),Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),se&&(gr(i,w,Ce.current.data,Ce.current.error,!0),o.loadingTimeout&&!i.get(w)&&setTimeout(function(){re&&Y()&&V().onLoadingSlow(w,o)},o.loadingTimeout),E[w]=[U.apply(void 0,x),Eo()]),at=E[w],ie=at[0],ae=at[1],[4,ie];case 2:return ie=Ae.sent(),se&&setTimeout(Pe,o.dedupingInterval),!E[w]||E[w][1]!==ae?(se&&Y()&&V().onDiscarded(w),[2,!1]):(oe({error:ee}),me.error=ee,ge=_[w],!de(ge)&&(ae<=ge[0]||ae<=ge[1]||ge[1]===0)?(it(),se&&Y()&&V().onDiscarded(w),[2,!1]):(s(Ce.current.data,ie)?me.data=Ce.current.data:me.data=ie,s(i.get(w),ie)||i.set(w,ie),se&&Y()&&V().onSuccess(ie,w,o),[3,4]));case 3:return Ge=Ae.sent(),Pe(),V().isPaused()||(oe({error:Ge}),me.error=Ge,se&&Y()&&(V().onError(Ge,w,o),o.shouldRetryOnError&&rt()&&V().onErrorRetry(Ge,w,o,Fe,{retryCount:(Le.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return re=!1,it(),Y()&&se&&gr(i,w,me.data,me.error,!1),[2,!0]}})})},[w]),zn=(0,F.useCallback)(es.bind(ee,i,function(){return A.current}),[]);if(yr(function(){G.current=r,Z.current=o}),yr(function(){if(!!w){var j=P.current,U=Fe.bind(ee,wo),ie=function(Y,Pe,me){ot(He({error:Pe,isValidating:me},s(Ce.current.data,Y)?ee:{data:Y}))},ae=0,re=function(Y){if(Y==Ka){var Pe=Date.now();V().revalidateOnFocus&&Pe>ae&&rt()&&(ae=Pe+V().focusThrottleInterval,U())}else if(Y==Za)V().revalidateOnReconnect&&rt()&&U();else if(Y==Ja)return Fe()},Le=Ga(w,S,ie),se=Ga(w,g,re);return D.current=!1,A.current=w,P.current=!0,j&&ot({data:ye,error:We,isValidating:_t}),Ir()&&(de(ye)||Tn?U():of(U)),function(){D.current=!0,Le(),se()}}},[w,Fe]),yr(function(){var j;function U(){var ae=Sr(h)?h(ye):h;ae&&j!==-1&&(j=setTimeout(ie,ae))}function ie(){!Ce.current.error&&(d||V().isVisible())&&(y||V().isOnline())?Fe(wo).then(U):U()}return U(),function(){j&&(clearTimeout(j),j=-1)}},[h,d,y,Fe]),(0,F.useDebugValue)(ye),c&&de(ye)&&w)throw G.current=r,Z.current=o,de(We)?Fe(wo):We;return{mutate:zn,get data(){return nt.data=!0,ye},get error(){return nt.error=!0,We},get isValidating(){return nt.isValidating=!0,_t}}},Eh=br.defineProperty(lf,"default",{value:os});var as=mf(hf);var ss=()=>{let{accessKey:t,username:r}=(0,Be.getPreferenceValues)();r||(0,Be.showToast)(Be.Toast.Style.Failure,"Username is missing.","Please set a username from extension settings.");let[o,i]=(0,Oo.useState)(!0),[s,u]=(0,Oo.useState)([]),c=m=>Rn(m,{headers:{Authorization:`Client-ID ${t}`}}).then(h=>h.json());return as(`https://api.unsplash.com/users/${r}/likes`,c,{onSuccess:m=>{m.errors?(i(!1),(0,Be.showToast)(Be.Toast.Style.Failure,"Failed to fetch likes.",m.errors?.join(`
`))):u(m),i(!1)},onError:m=>{(0,Be.showToast)(Be.Toast.Style.Failure,"Something went wrong.",String(m)),i(!1)}}),{loading:o,likes:s}};var L=require("@raycast/api");var Cr=require("@raycast/api");var Hu=Te(require("node:process"),1),Gu=Te(ju(),1);async function jt(t){if(Hu.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,Gu.default)("osascript",["-e",t]);return r}var Vu=async({url:t,id:r})=>{let{downloadSize:o}=(0,Cr.getPreferenceValues)();try{await(0,Cr.showHUD)("Please select a location to save the image..."),await jt(`
      set outputFolder to choose folder with prompt "Please select an output folder:"
      set temp_folder to (POSIX path of outputFolder) & "${r}-${o}.jpg"
      set q_temp_folder to quoted form of temp_folder

      set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd
    `)}catch(i){console.error(i),await(0,Cr.showHUD)("Couldn't save the image...")}};var te=require("@raycast/api");var Xo=require("fs");var Yu=async({url:t,id:r,useHud:o=!1,isBackground:i=!1})=>{let{downloadSize:s,applyTo:u,wallpaperPath:c}=(0,te.getPreferenceValues)(),m=ca(c||te.environment.supportPath),h;if((0,Xo.existsSync)(m)){let y="Downloading and setting wallpaper...";o?!i&&await(0,te.showHUD)(y):h=await(0,te.showToast)(te.Toast.Style.Animated,y)}else{let y="The selected path does not exist. Please select a valid path.";await(o?(0,te.showHUD)(y):(0,te.showToast)(te.Toast.Style.Animated,y));return}let d=m.endsWith("/")?`${m}${r}-${s}.jpg`:`${m}/${r}-${s}.jpg`;try{let y=d,R=(0,Xo.existsSync)(y)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;if(await jt(`
      set temp_folder to (POSIX path of "${y}")
      set q_temp_folder to quoted form of temp_folder

      ${R}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${u} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");return o?!i&&await(0,te.showHUD)("Wallpaper set!"):h&&(h.style=te.Toast.Style.Success,h.title="Wallpaper set!"),!0}catch(y){return console.error(y),h&&(h.style=te.Toast.Style.Failure,h.title="Something went wrong.",h.message="Try with another image or check your internet connection."),!1}};var tt=require("@raycast/api");var Qu=require("fs"),Xu=async({url:t,id:r})=>{let o=await(0,tt.showToast)(tt.Toast.Style.Animated,"Downloading and copying image..."),i=tt.environment.supportPath,s=i.endsWith("/")?`${i}${r}.jpg`:`${i}/${r}.jpg`;try{let u=s,c=(0,Qu.existsSync)(u)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;await jt(`
      set temp_folder to (POSIX path of "${u}")
      set q_temp_folder to quoted form of temp_folder

      ${c}

      set x to alias (POSIX file temp_folder)
      set the clipboard to (read (contents of x) as JPEG picture)
    `),o.style=tt.Toast.Style.Success,o.title="Image copied to the clipboard!"}catch(u){console.error(u),o.style=tt.Toast.Style.Failure,o.title="Something went wrong.",o.message="Try with another image or check your internet connection."}};var Zu=require("@raycast/api");var Ku=require("react/jsx-runtime"),um=({result:t})=>{let r=t.urls?.regular||t.urls?.small||t.urls?.thumb,o=t.created_at?new Date(t.created_at).toLocaleString():"Unknown",i=[t.description&&`# ${t.description}`,t.user?.name&&`**Photo by [${t.user.name}](${t.user.links.html})**`,r&&`![image](${r})`,t.alt_description&&`**Description**: ${t.alt_description}`,t.created_at&&`**Uploaded On**: ${o}`,t.likes&&`**Likes**: ${t.likes}`,t.width&&t.height&&`**Ratio**: ${t.width}x${t.height}`];return(0,Ku.jsx)(Zu.Detail,{markdown:i.filter(s=>s).map(s=>s+`
`).join(`
`),navigationTitle:t.user?.name,actions:(0,Ku.jsx)(Ln,{item:t})})},Ju=um;var Ko=Te(require("react")),K=require("react/jsx-runtime"),lm=({details:t=!1,item:r})=>(0,K.jsx)(L.ActionPanel,{children:(0,K.jsx)(cm,{details:t,item:r})}),cm=({details:t=!1,item:r})=>{let{push:o}=(0,L.useNavigation)(),{downloadSize:i}=(0,L.getPreferenceValues)(),s=r.urls?.raw||r.urls?.full||r.urls?.regular||r.urls?.small,u={url:r.urls?.[i]||s,id:`${r.id}-${i}`};return(0,K.jsxs)(Ko.default.Fragment,{children:[(0,K.jsxs)(L.ActionPanel.Section,{children:[t&&(0,K.jsx)(L.Action,{title:"Show Details",icon:L.Icon.List,onAction:()=>o((0,K.jsx)(Ju,{result:r}))}),r.links?.html&&(0,K.jsx)(L.Action.OpenInBrowser,{url:r.links.html,title:"Open Original"}),r.user?.links?.html&&(0,K.jsx)(L.Action.OpenInBrowser,{url:r.user.links.html,icon:L.Icon.Person,shortcut:{modifiers:["cmd"],key:"o"},title:"Open Author"})]}),(0,K.jsx)(L.ActionPanel.Section,{title:"Image",children:s&&(0,K.jsxs)(Ko.default.Fragment,{children:[(0,K.jsx)(L.Action,{title:"Copy to Clipboard",icon:L.Icon.Clipboard,shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:()=>Xu(u)}),(0,K.jsx)(L.Action,{title:"Set as Desktop Wallpaper",icon:L.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"w"},onAction:()=>Yu({url:s,id:String(r.id)})}),(0,K.jsx)(L.Action,{title:"Download Image",icon:L.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"d"},onAction:()=>Vu({url:s,id:String(r.id)})})]})}),(0,K.jsxs)(L.ActionPanel.Section,{title:"Links",children:[r.links?.html&&(0,K.jsx)(L.Action.CopyToClipboard,{content:r.links.html,title:"Copy URL to Clipboard",icon:L.Icon.Clipboard}),s&&(0,K.jsx)(L.Action.CopyToClipboard,{content:s,title:"Copy Image URL to Clipboard",icon:L.Icon.Clipboard}),r.user?.links?.html&&(0,K.jsx)(L.Action.CopyToClipboard,{content:r.user.links.html,title:"Copy Author URL to Clipboard",icon:L.Icon.Clipboard})]})]})},Ln=lm;var Pr=require("react/jsx-runtime"),fm=()=>{let{loading:t,likes:r}=ss(),o=sa();return(0,Pr.jsx)($n.Grid,{isLoading:t,itemSize:o,searchBarPlaceholder:"Search your likes...",children:(0,Pr.jsx)($n.Grid.Section,{title:"Results",subtitle:String(r?.length),children:r?.map(i=>(0,Pr.jsx)(dm,{item:i},i.id))})})},dm=({item:t})=>{let[r,o,i]=[t.title||t.description||t.user.name||"No Name",t.urls?.thumb||t.urls?.small||t.urls?.regular,t.user?.profile_image?.small],s={...t,title:r,alt_description:""},u=ua()?la(r):"";return(0,Pr.jsx)($n.Grid.Item,{content:o,title:u,actions:(0,Pr.jsx)(Ln,{item:s,details:!0})})},mm=fm;0&&(module.exports={});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
